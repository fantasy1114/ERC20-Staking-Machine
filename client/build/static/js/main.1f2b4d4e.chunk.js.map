{"version":3,"sources":["../node_modules/truffle-interface-adapter/node_modules/web3-eth-accounts/src sync","utils/getWeb3.js","TokenSetup.jsx","DepositPot.jsx","ApproveInfo.jsx","TokenAmountTextBox.jsx","ApproveTransfer.jsx","TokenContext.js","CrowdsaleTesting.jsx","PriceChart.jsx","CrowdsaleOwnerPanel.jsx","FinalShutdownBox.jsx","OwnerPanel.jsx","WithdrawBox.jsx","PenaltyWithdrawDialog.jsx","RewardBox.jsx","StakingDetail.jsx","StakingEntry.jsx","AccountInfo.jsx","StakingLister.jsx","StakingForm.jsx","StakingPanel.jsx","ReferralEntry.jsx","ReferralBox.jsx","CrowdsalePanel.jsx","HomePage.jsx","TestingBox.jsx","AccountStatus.jsx","MainBar.jsx","MachineState.jsx","UserBox.jsx","Web3ErrorPage.jsx","App.js","serviceWorker.js","i18n.js","index.js","../node_modules/truffle-contract/node_modules/web3-eth-accounts/src sync"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","getWeb3","Promise","reject","window","addEventListener","a","async","ethereum","web3","Web3","enable","console","log","provider","providers","HttpProvider","TokenSetup","props","state","callbackTokenSetted","callbackSetted","stakingInstance","tokenAddress","account","showSuccessLabel","handleChange","bind","handleSubmit","this","methods","setTokenAddress","send","from","then","result","setState","catch","err","event","target","value","preventDefault","writeTokenAddress","Grid","container","direction","justify","alignItems","item","Typography","variant","component","color","TextField","required","label","placeholder","margin","onChange","Button","onClick","Component","DepositPot","contractInterface","tokenDecimals","tokenSymbol","tokenName","tokenInstance","stakingAddress","depositAmount","realDepositAmount","currentPot","potentialWithdraw","machineState","showError","errorMessage","loading","approvementConfirmed","events","PotUpdated","on","updatePotValue","getCurrentPot","getPotentialWithdrawAmount","getMachineState","depositPot","toString","enqueueSnackbar","anchorOrigin","vertical","horizontal","integerAmount","Number","decimals","BigNumber","pow","multiply","finalAmount","utils","toBN","getApprove","res","depositIntoPot","call","toViewAmount","newPot","returnValues","_amount","BN","div","toNumber","approve","response","approvedAmount","Grow","in","Paper","elevation","style","padding","backgroundColor","spacing","CircularProgress","withSnackbar","ApproveInfo","open","handleClickOpen","handleClose","classes","startIcon","className","helpButton","i18nKey","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","dividers","gutterBottom","Link","href","DialogActions","autoFocus","React","withStyles","theme","background","border","borderColor","TokenAmountTextBox","amount","viewAmount","_inputAmount","divide","error","input","realAmount","calcRealAmount","ApproveTranfer","accounts","viewApprovedAmount","hasAllowance","setApprovement","editAmountModeMode","handleEditButton","Transfer","allowance","amountAllowed","isZero","isNeg","alert","_amountToApprove","_realAmount","newState","editAmountMode","allowanceMessage","approveButtonText","TokenContext","createContext","CrowdsaleTesting","currentRate","amountOfBITN","amountOfWEI","amountOfETH","handleBITNChange","handleRateChange","ethResult","WEIAmount","ETHAmount","fromWei","PriceChart","crowdsaleInstance","priceData","getHistoricalPriceData","getPastEvents","fromBlock","toBlock","data","forEach","_blockNumber","blockNumber","_rate","args","newRate","push","name","rate","width","height","top","right","left","bottom","strokeDasharray","dataKey","type","stroke","CrowdsaleOwnerPanel","crowdsaleAddress","newOwner","handleSetRate","handleChangeOwner","changeOwner","loadCrowdsaleContract","getAvailableBalance","contract","require","crowdsaleContract","BITNCrowdsale","setProvider","currentProvider","at","instance","address","getCurrentRate","getAvailableToken","availableBalance","eth","getAccounts","setRate","toWei","String","transferOwnership","FinalShutdownBox","potToReturn","transerOwnership","handlePotChange","handleReturnPot","finalShutdown","newAddress","potValue","returnPot","OwnerBox","tokenLoaded","Consumer","context","ApproveTransfer","symbol","WithdrawBox","contractInstance","stakeID","amountStaked","referralAddress","withdrawPenalty","selectedAccount","withdrawCallback","elasped","handlePenaltyWithdraw","handleDialogClose","setAccount","withdrawTokens","returnTokens","isWithdrawed","loadig","_stakeID","getStakeInfo","Boolean","_account","showPenaltyWarning","RewardBox","availableReward","withdrawRewards","PotExhausted","withdrawReward","rawResult","withdrawRewardButton","borderRadius","boxShadow","StakingDetail","periods","wasWithdraw","creationTime","referer","gain","penalty","currentAmount","stakeWithdrawAmount","isArchived","showReferer","infoLoaded","cookies","Cookies","archivedCallback","timer","handleShowReferer","handleArchivement","handleUnarchivement","handleWithdraw","StakeWithdraw","rewardWithdrawed","fetchStakeInfo","getPeriods","getAlreadyWithdrawed","power","_currentAmount","_penalty","calculateTime","forceUpdate","standardCreationTime","Date","now","standardTimeLocked","creationTimeString","calculatePeriods","_periods","reward","getAlreadyWithdrawedAmount","setInterval","set","path","get","currentValue","StakingEntry","timeLocked","compoundReward","moreDetail","detailBox","handleDetailView","getStakeAmount","getStakeTime","getCompoundReward","getCurrentStakeAmount","calculateCompoundInterest","ExpansionPanel","expansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","ExpansionPanelDetails","StakeInfo","referral","numberOfStake","stakeNumber","hasReferral","box","colorDefault","StakingLister","numberOfActiveStake","totalAmountStaked","stakingList","showArchived","referralLoaded","handleShowArchived","NewStake","newStakeListener","newWithdrawListener","listActiveStake","populateStakingList","getTotalStake","getActiveStakeNumber","getStakeCount","_numberOfStake","getActiveStakeCount","_numberOfActiveStake","getTotalStakeAmount","_totalStake","updateUI","list","i","archived","archived_string","getReferral","getMyReferral","myReferral","AccountInfo","Switch","checked","archivedSwitch","green","StakingForm","amountToStake","tokenBalance","showReferralInput","allowanceValue","handleAmountChange","handleReferralCheckbox","handleReferralAddress","checkAllowance","getTokenBalance","_amountToStake","balanceOf","viewBalance","activateStake","_referralAddress","stakeToken","referral_input","inputProps","min","max","step","Checkbox","checkBoxReferral","stakeButton","bar","StakingPanel","subscriptionEnded","newStakeHandler","checkSubscriptionEnd","isSubscriptionEnded","ReferralEntry","referredAddress","fetchReferralReward","calculateRewardReferral","Container","maxWidth","ListItemText","primary","ReferralBox","referrals","referral_list","viewReferralReward","withdrawReferralReward","fetchReferral","fetchTotalReward","referralRewardSent","getCurrentReferrals","length","calculateTotalRewardReferral","getLowestStake","text","onCopy","map","ref_address","ListItem","button","List","CrowdsalePanel","viewBITNAmount","handleBuy","buyTokens","rawBITNAmount","BITNAmount","buyButton","HomePage","Avatar","alt","src","to","TestingBox","timeToLock","batchTransaction","batch","BatchRequest","Contract","BitcoinCompanyNetworkTestToken","abi","options","stakingContract","StakingContract","add","execute","AccountStatus","MainBar","isEnglish","language","modalOpen","changeLanguageCallback","handleEnglish","handleItalian","handleChinese","openModal","closeModal","AppBar","position","Toolbar","IconButton","edge","aria-label","openMenuCallback","logo","languageButton","marginLeft","marginRight","modal","closeOnDocumentClick","MachineState","statePercentpercentState","maxSupply","normalAmount","statePercent","contaier","title","UserBox","toggleDrawer","view","key","setView","menuOpened","getTokenAddress","_view","currentView","SwipeableDrawer","onOpen","ListItemIcon","Divider","appBackgroud","Web3ErrorPage","App","componentDidMount","_web3","_accounts","net","getId","networkId","networks","defaultAccount","StakingInstance","StakingAddress","handleContractRole","checkToken","isTokenSet","loadTokenInfo","isOwner","tokenContract","tokenContractInstance","isTokenLoaded","approved","menuCallback","callbackLanguage","i18n","changeLanguage","web3Unavailable","languageChanged","_language","body","Provider","OwnerPanel","Box","location","hostname","match","use","LanguageDetector","init","resources","en","translations","Title","staking_form","subtitle","referralCheckbox","textBoxHelper","referralPlaceholder","errorUndefinedStake","errorInsufficientFunds","errorNoAllowance","unableToStake","correctStake","stakingPending","sideMenu","menuTitle","stakingForm","stakeList","machineAvailableAmount","loadingMachineState","crowdsaleEntry","homeEntry","closeEntry","staking_list","noStakePresent","account_info","totalAmount","noReferralPresent","referral_panel","referralTitle","myReferralLabel","totalAvailavelReward","withdrawAll","noReferral","copyButton","copyMessage","stake_detail","previewText","periodElasped","withdrawed","availableRewards","withdraw","withdrawBox","withdrawLabel","tokenSuccesWithdrawMsg","tokenFailedWithdrawMsg","help","p1","p2","p3","linkText","link","crowdsale","liquidity","amountBITN","amountETH","snackbarSuccess","snackbarFailure","liquidityLimitReached","approvementPanel","approvementStatus","editExternalButton","textLabel","editInternalButton","closeButton","goStaking","needToken","goCrowdsale","it","ch","fallbackLng","debug","ns","defaultNS","keySeparator","interpolation","escapeValue","formatSeparator","react","wait","ReactDOM","render","maxSnack","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1f2b4d4e.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1019;","import Web3 from \"web3\";\n\nconst getWeb3 = () =>\n  new Promise((resolve, reject) => {\n    // Wait for loading completion to avoid race conditions with web3 injection timing.\n    window.addEventListener(\"load\", async () => {\n      // Modern dapp browsers...\n      if (window.ethereum) {\n        const web3 = new Web3(window.ethereum);\n        try {\n          // Request account access if needed\n          await window.ethereum.enable();\n          // Acccounts now exposed\n          resolve(web3);\n        } catch (error) {\n          reject(error);\n        }\n      }\n      // Legacy dapp browsers...\n      else if (window.web3) {\n        // Use Mist/MetaMask's provider.\n        const web3 = window.web3;\n        console.log(\"Injected web3 detected.\");\n        resolve(web3);\n      }\n      // Fallback to localhost; use dev console port by default...\n      else {\n        const provider = new Web3.providers.HttpProvider(\n          \"http://127.0.0.1:8545\"\n        );\n        const web3 = new Web3(provider);\n        console.log(\"No web3 instance injected, using Local web3.\");\n        resolve(web3);\n      }\n    });\n  });\n\nexport default getWeb3;\n","import React, { Component } from \"react\";\nimport StakingContract from \"./contracts/Staking.json\";\nimport getWeb3 from \"./utils/getWeb3\";\n\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid'\n\n\nclass TokenSetup extends Component {\n\n\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n                    callbackTokenSetted: props.callbackSetted,\n                    stakingInstance: props.stakingInstance,\n                    tokenAddress: \"\",\n                    account: props.account,\n                    showSuccessLabel: false\n            };\n\n        \n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n\n    }\n\n\n    writeTokenAddress(){\n\n        this.state.stakingInstance.methods.setTokenAddress(this.state.tokenAddress).send({ from: this.state.account }).then((result) =>{\n            console.log(\"Account setted\")\n            this.setState({showSuccessLabel: true})\n            //this.state.callbackTokenSetted(this.state.tokenAddress);\n\n        }).catch( (err) => {\n            console.log(\"Invalid address\");\n            this.setState({tokenAddress: null})\n            return;\n        });\n\n    }\n\n\n\n    handleChange(event){\n        this.setState({tokenAddress: event.target.value})\n    }\n\n    handleSubmit(event) {\n        console.log(\"Token Address: \" + this.state.tokenAddress);\n        event.preventDefault();\n\n\n        this.writeTokenAddress();\n    }\n    \n\n    render(){\n\n        return (\n                <Grid\n                    container\n                    direction=\"column\"\n                    justify=\"center\"\n                    alignItems=\"center\"\n                    >\n                        <Grid item>\n                            <Typography variant=\"body1\" component=\"h2\" color=\"textSecondary\">You must initialized the contract</Typography>\n                        </Grid>\n                        <Grid item>\n                            <TextField\n                            required\n                            label=\"Token Address\"\n                            placeholder=\"0x000000000000000000000000000\"\n                            margin=\"normal\"\n                            variant=\"outlined\"  \n                            onChange={this.handleChange}                          \n                            />\n                        </Grid>\n                        <Grid>\n                            <Button variant=\"contained\" color=\"primary\" onClick={this.handleSubmit}>Set Address</Button>\n                        </Grid>\n                        {this.state.showSuccessLabel && (\n                            <Grid item>\n                                <Typography variant=\"body1\" component=\"h2\">Success operation, refresh the page</Typography>\n                            </Grid>\n                        )}\n\n                </Grid>\n        )\n\n    }\n\n}\n\n\nexport default TokenSetup;","import React, { Component } from \"react\";\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport Grow from '@material-ui/core/Grow';\n\n\nimport { withSnackbar } from 'notistack';\n\n\nimport BigNumber from \"big-number\"\n\n\n//TODO: Handle multiple accounts\n\n\nclass DepositPot extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            contractInterface: this.props.contractInterface,\n            account: this.props.account,\n            tokenDecimals: props.tokenDecimals,\n            tokenSymbol: props.tokenSymbol,\n            tokenName: props.tokenName,\n            tokenInstance: props.tokenInstance,\n            stakingAddress: props.stakingAddress,\n            depositAmount: 0,\n            realDepositAmount: 0,\n            currentPot: 0,\n            potentialWithdraw: 0,\n            machineState: 0,\n            showError: false,\n            errorMessage: \"\",\n            loading: false,\n            approvementConfirmed: false\n        }\n\n        this.web3 = props.web3\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n\n    }\n\n\n    componentDidMount(){\n        //Pot Deposit Listener\n        this.state.contractInterface.events.PotUpdated().on('data', event => {\n            console.log(\"Pot Updated - Event Received\")\n            this.updatePotValue(event);\n        });\n\n        this.getCurrentPot();   //Update Pot value\n        this.getPotentialWithdrawAmount();\n        this.getMachineState();\n    }\n\n    componentWillUnmount(){\n        //TODO Unsubscribe the \"Pot Deposit Listener\"\n    }\n\n\n\n    depositIntoPot(){\n\n        this.state.contractInterface.methods.depositPot(this.state.realDepositAmount.toString()).send({ from: this.state.account }).then((result) =>{\n            console.log(\"Pot Deposited\")\n            this.props.enqueueSnackbar(\"Successful deposit\", {\n                variant: 'success',\n                anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                },\n            });            \n            \n            this.setState({loading: false})\n\n\n            this.getCurrentPot();\n  \n\n        }).catch( (err) =>{\n            console.log(err)\n            this.setState({loading: false})\n            this.props.enqueueSnackbar(\"Unable to deposit pot, check your balace\", {\n                variant: 'error',\n                anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                },\n            });\n        });\n    }\n\n\n\n    handleChange(event){\n\n        var integerAmount = Number(event.target.value)\n\n\n        var decimals = BigNumber(10).pow(this.state.tokenDecimals)\n\n        var result = BigNumber(integerAmount).multiply(decimals)\n\n        var finalAmount = this.web3.utils.toBN(result.toString())\n\n        this.setState({\n            depositAmount: event.target.value,\n            realDepositAmount: finalAmount\n        })\n    }\n\n    handleSubmit(event){\n        event.preventDefault();\n\n        this.getApprove().then( (res) => {\n            this.setState({approvementConfirmed: true})\n            this.depositIntoPot().then( (res) => {\n                this.setState({approvementConfirmed: false})\n            });\n        }).catch( (err) => {\n            console.log(\"Unable to get the allowance: \" + err)\n        }) \n    }\n\n    getCurrentPot(){\n        this.state.contractInterface.methods.getCurrentPot().call().then( (result) => {\n    \n                console.log(\"Current pot : \" + this.toViewAmount(result))\n                this.setState({currentPot: this.toViewAmount(result)});\n\n        }).catch( (err) => {\n            console.log(err);\n            this.props.enqueueSnackbar(\"Unable to fetch current pot\", {\n                variant: 'error',\n                anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                },\n            });\n        }); \n\n    }\n\n\n    updatePotValue(event){\n        let newPot = event.returnValues.newPot;\n        this.setState({\n            currentPot: this.toViewAmount(newPot)\n        })\n    }\n\n\n    toViewAmount(_amount){\n        let BN = this.web3.utils.BN;\n        let decimals = new BN(10).pow( new BN(this.state.tokenDecimals));\n        let currentPot = new BN(_amount);\n        let viewAmount = currentPot.div(decimals) \n        return viewAmount.toNumber();       \n    }\n\n    async getApprove(){\n        \n        if(this.state.tokenInstance == null){\n            console.log(\"The contract is not instantiated yet\")\n            return;\n        }\n\n\n        console.log(\"Get Approve\")\n        console.log(this.state.realDepositAmount)\n\n        this.setState({loading: true})\n\n        await this.state.tokenInstance.approve(this.state.stakingAddress, this.state.realDepositAmount.toString(), {from: this.state.account}).then( (response) => {\n            console.log(response);\n            if(response === true){\n                console.log(\"Approved the management of \" + this.state.approvedAmount + \" tokens\")\n            }else{\n                console.log(\"Has NOT the approvement\")\n            }\n            return response;\n        }).catch( (err) =>{\n            console.log(err);\n            this.setState({loading: false})\n        });\n\n    }\n\n\n    async getPotentialWithdrawAmount(){\n\n        this.state.contractInterface.methods.getPotentialWithdrawAmount().call().then( (result) => {\n    \n            console.log(\"Current pot : \" + this.toViewAmount(result))\n            this.setState({potentialWithdraw: this.toViewAmount(result)});\n\n        }).catch( (err) => {\n            console.log(err);\n            this.props.enqueueSnackbar(\"Unable to fetch the potential withdraw amount\", {\n                variant: 'error',\n                anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                },\n            });\n        }); \n        \n    }\n\n\n    async getMachineState(){\n        this.state.contractInterface.methods.getMachineState().call().then( (result) => {\n    \n            console.log(\"Machine state : \" + this.toViewAmount(result))\n            this.setState({machineState: this.toViewAmount(result)});\n\n        }).catch( (err) => {\n            console.log(err);\n            this.props.enqueueSnackbar(\"Unable to fetch the machine state\", {\n                variant: 'error',\n                anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                },\n            });\n        });         \n    }\n\n\n    render(){\n\n        return (\n            <Grow in={true}>\n                <Paper \n                    elevation={4}\n                    style={{ padding: 20, margin: 0, backgroundColor: '#fafafa' }}\n                    >\n                        <Typography variant=\"h4\" component=\"h4\">Deposit Pot</Typography>\n\n                        <Grid\n                            container\n                            spacing={1}\n                            direction=\"column\"\n                            justify=\"center\"\n                            alignItems=\"center\"\n                            >\n                                {this.state.loading ? (\n                                    <div>\n                                        {this.state.approvementConfirmed && (\n                                           <Typography variant=\"body1\" component=\"h3\">Approvement confirmed, waiting for the deposit confirmation...</Typography> \n                                        )}\n                                        <CircularProgress></CircularProgress>\n                                    </div>\n                                ) : ( \n                                <div>\n                                <Grid item>\n                                    <Typography variant=\"body1\" component=\"h3\">Amount to deposit</Typography>\n                                </Grid>\n                                <Grid item>\n                                    <TextField\n                                        label=\"Amount to deposit\"\n                                        margin=\"normal\"\n                                        variant=\"outlined\" \n                                        value={this.state.depositAmount}\n                                        onChange={this.handleChange}                                \n                                        />\n                                </Grid>\n                                <Grid item>\n                                    <Button variant=\"contained\" color=\"secondary\" onClick={this.handleSubmit}>Deposit</Button>\n                                </Grid>\n                                </div>\n                                )}\n                                <Grid item>\n                                    <Typography variant=\"body1\" component=\"h6\">Current Pot: <b>{this.state.currentPot}</b> {this.state.tokenSymbol}</Typography>\n                                </Grid>\n                                <Grid item>\n                                    <Typography variant=\"body1\" component=\"h6\">Potential Withdraw: <b>{this.state.potentialWithdraw}</b> {this.state.tokenSymbol}</Typography>\n                                </Grid>\n                                <Grid item>\n                                    <Typography variant=\"body1\" component=\"h6\">Machine State: <b>{this.state.machineState}</b> {this.state.tokenSymbol}</Typography>\n                                </Grid>\n                        </Grid>\n                            \n                    </Paper>\n            </Grow>\n            \n        );\n\n    }\n}\n\nexport default withSnackbar(DepositPot);\n","import React, { Component } from \"react\";\n\n\n\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogActions from '@material-ui/core/DialogActions';\n\n\nimport HelpIcon from '@material-ui/icons/Help';\n\nimport { Trans } from \"react-i18next\";\n\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\n\nimport Link from '@material-ui/core/Link'\n\nconst styles = theme => ({\n    helpButton: {\n        background: '#50646e',\n        color: \"#efeded\",\n        border: \"1 px solid\",\n        borderColor: \"rgba(43, 43, 43, 0.5)\",\n        \"&:hover, &.Mui-focusVisible\": { \n            backgroundColor: \"#927b7ba6\",\n            color: \"#000000\",\n            border: \"1 px solid\",\n            borderColor: \"rgba(43, 43, 43, 0.5)\",\n        }\n    }\n  });\n\n\nclass ApproveInfo extends React.Component{\n\n    constructor (props){\n        super(props);\n\n        this.state = {\n            open: false\n        }\n\n        this.handleClickOpen = this.handleClickOpen.bind(this)\n        this.handleClose = this.handleClose.bind(this)\n    }\n\n\n    handleClickOpen() {\n        this.setState({\n            open: true\n        })\n    }\n\n\n    handleClose(){\n        this.setState({\n            open: false\n        })\n    }\n\n\n    render(){\n\n        const { classes } = this.props;\n\n\n        return(\n            <div>\n                <Button \n                    variant=\"outlined\" \n                    color=\"secondary\" \n                    onClick={this.handleClickOpen}\n                    startIcon={<HelpIcon />}\n                    className={classes.helpButton}\n                >\n                   <Trans i18nKey=\"staking_form.helpButton\" />\n                </Button>\n                <Dialog onClose={this.handleClose} aria-labelledby=\"customized-dialog-title\" open={this.state.open}>\n                    <DialogTitle id=\"customized-dialog-title\" onClose={this.handleClose}>\n                        ERC20 \"Allowance\"\n                    </DialogTitle>\n                    <DialogContent dividers>\n                        <Typography gutterBottom>\n                            <Trans i18nKey=\"help.p1\" />\n                        </Typography>\n                        <Typography gutterBottom>\n                            <Trans i18nKey=\"help.p2\" />\n                        </Typography>\n                        <Typography gutterBottom>\n                            <Trans i18nKey=\"help.p3\" />\n                        </Typography>\n                        <Typography gutterBottom>\n                            <Trans i18nKey=\"help.p4\" />\n                        </Typography>\n                        <Typography gutterBottom>\n                            <Link href=\"https://tokenallowance.io/it/index.html\"><Trans i18nKey=\"help.linkText\" /></Link>\n                        </Typography>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button autoFocus onClick={this.handleClose} color=\"primary\">\n                            Ok\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n\n            </div>\n        );\n\n    }\n\n\n\n\n\n\n}\n\n\nApproveInfo.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\n\nexport default withStyles(styles)(ApproveInfo);","import React, { Component } from \"react\";\nimport TextField from \"@material-ui/core/TextField\"\nimport BigNumber from \"big-number\"\n\nclass TokenAmountTextBox extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            decimals: props.decimals,\n            amount: props.amount,\n            viewAmount: 0\n        }\n\n        this.onChange = props.onChange;\n        this.handleChange = this.handleChange.bind(this)\n    }\n\n\n    initializeViewAmount(){\n        if(this.state.amount !== 0){\n            \n        }\n    }\n\n\n    calcRealAmount(_inputAmount){\n        //try{\n            var decimals = BigNumber(10).pow(this.state.decimals);\n            var amount = BigNumber(_inputAmount);\n\n            var result = amount.multiply(decimals)\n            return result;\n        //}catch(error){\n        //    console.log(\"Unable to calculate the correct real amount;\" + error)\n        //}\n    }\n\n    calcViewAmount(_inputAmount){\n        try{\n            var decimals = BigNumber(10).pow(this.state.decimals);\n            var amount = BigNumber(_inputAmount);\n    \n            var result = amount.divide(decimals)\n            return result;\n        }catch(error){\n            console.log(\"Unable to calculate the correct view amount;\" + error)\n            return 0;\n        }\n    }\n\n\n    handleChange(event){\n        var input = event.target.value;\n        var realAmount = this.calcRealAmount(input);\n        console.log(\"REAL: \" + realAmount.toString())\n        this.setState({\n            amount: realAmount,\n            viewAmount: input\n        });\n\n        this.onChange(realAmount);\n    }   \n\n\n    render(){\n\n        return(\n            <TextField \n                value={this.state.viewAmount} \n                onChange={this.handleChange}\n                label={this.props.label}\n                margin=\"normal\"\n                placeholder={this.props.placeholder}\n                variant={this.props.variant}>\n            </TextField>\n        );\n\n    }\n}\n\n\nexport default TokenAmountTextBox;","import React, { Component } from \"react\";\n\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\n\n\nimport { Trans } from \"react-i18next\";\n\nimport { withSnackbar } from 'notistack';\n\nimport ApproveInfo from './ApproveInfo'\nimport TokenAmountTextBox from \"./TokenAmountTextBox\"\nimport BigNumber from \"big-number\"\n\n\nimport EditIcon from '@material-ui/icons/Edit';\n\n/**\n * @brief Component responsible for approving ERC20 transfer\n * \n * Load the Token contract and call the \"approve()\" method specifying the amount of token\n * this Dapp is allowed to manage.\n */\n\n\nconst style = {\n    height: 200,\n    width: 200,\n    margin: \"1em\",\n    textAlign: 'center',\n    display: 'inline-block',\n  };\n  \n\n\n\nclass ApproveTranfer extends React.Component{\n\n\n    /**\n     * Connect to the web3 interface and deploy the contract\n     * @param {function} callback is the callback function called after the cotract is\n     * instantiated\n     */\n    constructor(props){\n        super(props);\n        this.state = {\n            //TokenContext Data\n            tokenAddress: props.tokenAddress,\n            tokenDecimals: props.decimals,\n            tokenName: props.tokenName,\n            tokenInstance: props.tokenInstance,\n            tokenSymbol: props.tokenSymbol,\n            accounts: props.accounts,\n\n            stakingAddress: props.stakingAddress,\n            approvedAmount: 0,\n            viewApprovedAmount: 0,\n            hasAllowance: false,\n            setApprovement: props.setApprovement,\n            editAmountModeMode: false,\n            loading: false\n        }\n\n\n        this.web3 = props.web3;\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleEditButton = this.handleEditButton.bind(this)\n    }\n\n\n\n    componentDidMount(){\n        console.log(\"Checking allowance...\")\n\n        this.state.tokenInstance.Transfer().on('data', event => {\n            console.log(\"Transfer detected - Event Received\")\n            var sender = event.returnValues[0]\n            if(sender === this.state.accounts[0])\n                this.hasAllowance();\n        });\n        \n\n        this.hasAllowance();\n    }\n\n\n    async hasAllowance(){\n\n        if(this.state.tokenInstance === null)\n            return;\n\n\n\n        await this.state.tokenInstance.allowance(this.state.accounts[0], this.state.stakingAddress).then( (response) => {\n            console.log(response)\n            var amountAllowed = response;\n\n            if(!amountAllowed.isZero() && !amountAllowed.isNeg()){\n                    \n                    var BN = this.web3.utils.BN;\n                    var decimals = new BN(10).pow( new BN(this.state.tokenDecimals));\n        \n                    var result = amountAllowed.div(decimals)\n    \n                   \n                    console.log(\"Has the allowance to manage \" + result.toString() + \" tokens\")\n                    this.setState({\n                        hasAllowance: true,\n                        viewApprovedAmount: result.toString(10),\n                        approvedAmount: amountAllowed\n                    })\n                    this.props.enqueueSnackbar(\"Has the allowance to manage \" + result.toString(10) + \" tokens\", {\n                        variant: 'success',\n                        anchorOrigin: {\n                            vertical: 'bottom',\n                            horizontal: 'left',\n                        },\n                    });\n                    //this.state.setApprovement(true);\n                \n\n\n\n            }else{\n                console.log(\"Has NOT the allowance\")\n                this.setState({\n                    hasAllowance: true\n                })\n                //this.state.setApprovement(false);\n            }\n        }).catch( (err) =>{\n            alert(err);\n        });\n    }\n\n\n    async getApprove(){\n        \n        if(this.state.tokenInstance == null){\n            console.log(\"The contract is not instantiated yet\")\n            return;\n        }\n\n\n        console.log(\"Get Approve\")\n\n        this.setState({loading: true})\n\n\n\n        console.log(this.state.stakingAddress)\n        console.log(this.state.approvedAmount.toString())\n\n        await this.state.tokenInstance.approve(this.state.stakingAddress, this.state.approvedAmount.toString(), {from: this.state.accounts[0]}).then( (response) => {\n            console.log(response);\n            if(response === true){\n                console.log(\"Approved the management of \" + this.state.approvedAmount.toString() + \" tokens to \" + this.state.stakingAddress)\n                this.setState({\n                    hasAllowance: true\n                }, () => {\n                    this.props.enqueueSnackbar(\"Approved the management of \" + this.state.approvedAmount.toString() + \" tokens\", {\n                        variant: 'success',\n                        anchorOrigin: {\n                            vertical: 'bottom',\n                            horizontal: 'left',\n                        },\n                    });\n                })\n            }else{\n                console.log(\"Has NOT the approvement\")\n                this.setState({\n                    hasAllowance: false\n                });\n                \n            }\n            this.setState({loading: false})\n            return response;\n        }).catch( (err) =>{\n            console.log(err);\n            this.setState({loading: false})\n        });\n\n\n    }\n\n    handleChange(_amount){\n    \n        let _amountToApprove = _amount;\n        console.log(\"Amount: \" + _amountToApprove)\n        this.setState({\n            approvedAmount: _amountToApprove\n        });\n        \n    \n    }\n\n\n    toViewAmount(_realAmount){\n        if(_realAmount === 0)\n            return 0;\n\n        var decimals = BigNumber(10).pow(this.state.decimals);\n        var result = BigNumber(_realAmount).divide(decimals)\n        console.log(result)\n        return result;\n    }\n\n    \n\n    handleSubmit(event){\n        event.preventDefault();\n\n        this.getApprove().then( () => {\n            this.hasAllowance();\n        });\n    }\n\n    handleEditButton(event){\n        var newState = !this.state.editAmountMode;\n        this.setState({\n            editAmountMode: newState\n        })\n    }\n\n\n\n\n    render(){\n\n\n        var allowanceMessage, approveButtonText;\n\n        if(this.state.hasAllowance){\n            allowanceMessage = (\n                <div>\n                    <Typography variant=\"body1\" component=\"h3\">\n                    <Trans i18nKey=\"approvementPanel.approvementStatus\" /> <b>{this.state.viewApprovedAmount}</b> {this.state.tokenSymbol} tokens\n                    </Typography>\n                </div>\n            );\n            approveButtonText = (<Trans i18nKey=\"approvementPanel.editInternalButton\" />);\n        }else{\n            allowanceMessage = (\n                <Typography variant=\"body1\" component=\"h3\">Does not have the approvement</Typography>\n            );\n            approveButtonText = \"Amount to approve\";\n\n        }\n\n\n\n\n        if(this.state.tokenInstance == null){\n            return(\n                <div>\n                    <Typography variant=\"body1\" component=\"h3\">Unable to load token contract</Typography>\n                </div>\n            )\n        }\n\n\n        return(\n            <Paper \n                elevation={4}\n                style={{ padding: 20, margin: 10, backgroundColor: '#fafafa' }}\n            >  \n                <Grid\n                    container\n                    spacing={1}\n                    direction=\"column\"\n                    justify=\"center\"\n                    alignItems=\"center\"\n                    >\n                        <Grid item>\n                            <Typography variant=\"h5\" component=\"h5\"><Trans i18nKey=\"approvementPanel.title\" /></Typography>\n                        </Grid>\n                        <Grid item>\n                            {allowanceMessage}\n                            {!this.state.editAmountMode && this.state.hasAllowance && (\n                                <Button color=\"secondary\" onClick={this.handleEditButton}><Trans i18nKey=\"approvementPanel.editExternalButton\" /></Button>\n                            )}\n                        </Grid>\n                        {(!this.state.hasAllowance || this.state.editAmountMode) && (\n                        <div>\n                        <Grid item>\n                            <ApproveInfo></ApproveInfo>\n                        </Grid>\n                        <Grid container\n                            spacing={1}\n                            direction=\"column\"\n                            justify=\"center\"\n                            alignItems=\"center\">\n                            <Grid>\n                                <TokenAmountTextBox\n                                    label={<Trans i18nKey=\"approvementPanel.textLabel\" />}\n                                    placeholder=\"500\"\n                                    variant=\"outlined\"\n                                    amount={0}\n                                    decimals={this.state.tokenDecimals}\n                                    onChange={this.handleChange}\n                                />\n                            </Grid>\n                            <Grid>\n                                <Button \n                                    variant=\"contained\" \n                                    color=\"primary\" \n                                    onClick={this.handleSubmit}\n                                    startIcon={<EditIcon />}\n                                    >\n                                        {approveButtonText}\n                                </Button>\n                            </Grid>\n                            {this.state.editAmountMode && (\n                                <Button color=\"secondary\" onClick={this.handleEditButton}><Trans i18nKey=\"approvementPanel.closeButton\" /></Button>\n                            )}\n                        </Grid>\n                        </div>\n                        )}\n                </Grid>\n            </Paper>\n        );\n\n    }\n\n}\n\n\nexport default withSnackbar(ApproveTranfer);","import React from 'react'\n\n\nconst TokenContext = React.createContext(null);\n\n\nexport default TokenContext;","import React, { Component } from \"react\";\n\n\n\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\n\nimport { Trans } from \"react-i18next\";\n\n\nimport getWeb3 from \"./utils/getWeb3\";\n\nimport BigNumber from \"big-number\"\n\n\n\nclass CrowdsaleTesting extends React.Component{\n\n    constructor (props){\n        super(props);\n\n        this.state = {\n            web3: props.web3,\n            currentRate: 0,\n            amountOfBITN: 0,\n            amountOfWEI: 0,\n            amountOfETH: 0\n        }\n\n\n\n        this.handleBITNChange = this.handleBITNChange.bind(this)\n        this.handleRateChange = this.handleRateChange.bind(this)\n    }\n\n\n    handleBITNChange(event){\n\n        try{\n            let integerAmount = Number(event.target.value)\n            \n            let currentRate = BigNumber(this.state.currentRate)\n    \n            let decimals = BigNumber(10).pow(18)\n    \n            let rawBITNAmount = BigNumber(integerAmount).multiply(decimals)\n    \n            let ethResult = rawBITNAmount.divide(currentRate)\n            let WEIAmount = this.state.web3.utils.toBN(ethResult.toString())\n    \n            let ETHAmount = this.state.web3.utils.fromWei(WEIAmount);\n    \n    \n            this.setState({\n                amountOfBITN: integerAmount,\n                amountOfWEI: WEIAmount.toString(),\n                amountOfETH: ETHAmount.toString()\n            })\n        }catch( err ){\n            console.log(err)\n            this.setState({\n                amountOfBITN: 0,\n                amountOfWEI: 0,\n                amountOfETH: 0\n            })\n        }\n\n    }\n\n    handleRateChange(event){\n        console.log(\"Gwei rate: \" + Number(event.target.value))\n        this.setState({\n            currentRate: Number(event.target.value)\n        })\n    }\n\n\n\n\n\n    render(){\n\n        return(\n            <Grid\n                container\n                spacing={1}\n                direction=\"column\"\n                justify=\"center\"\n                alignItems=\"center\"\n            >\n                <Grid item>\n                    <Typography variant=\"h5\">Rate testing area</Typography>\n                </Grid>\n                <Grid item>\n                    <TextField label=\"Custom rate in wei\" value={this.state.currentRate} onChange={this.handleRateChange}></TextField>\n                </Grid>\n                <Grid item>\n                    <TextField label=\"Amount of BITN\" onChange={this.handleBITNChange} value={this.state.amountOfBITN}></TextField>\n                </Grid>\n                <Grid item>\n                    <TextField label=\"Amount of wei\" value={this.state.amountOfWEI}></TextField>\n                </Grid>\n                <Grid item>\n                    <TextField label=\"Amount of ETH\" value={this.state.amountOfETH}></TextField>\n                </Grid>\n            </Grid>\n        );\n\n    }\n\n\n\n}\n\n\nexport default CrowdsaleTesting;","import React, { Component } from \"react\";\n\n\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\n\n\nimport {\n    LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer\n  } from 'recharts';\n\n\n\n  class PriceChart extends React.Component{\n\n    constructor (props){\n        super(props);\n\n        this.state = {\n            web3: props.web3,\n            crowdsaleInstance: props.crowdsaleInstance,\n            priceData: null\n        }\n\n    }\n\n\n    componentDidMount(){\n        this.getHistoricalPriceData();\n    }\n\n\n\n    getHistoricalPriceData(){\n\n        this.state.crowdsaleInstance.getPastEvents(\"RateUpdated\", {fromBlock: 0, toBlock: 'latest'}).then( (events) => {\n            console.log(\"Past events:\");\n            //console.log(events)\n\n\n            let data = []\n\n            events.forEach( (event) => {\n\n                //console.log(event)\n\n                let _blockNumber = event.blockNumber;\n\n                let _rate = event.args.newRate;\n                console.log(\"- \" + _blockNumber + \" - \" + _rate.toString())\n                //console.log(event)\n\n                data.push({name: _blockNumber, rate: _rate})\n\n            })\n\n            this.setState({\n                priceData: data\n            })\n        });\n\n    }\n\n\n\n    render(){\n\n        return(\n            <ResponsiveContainer style={{  width: 800, height: 800}}>\n            <LineChart width={600} height={300} data={this.state.priceData}\n            margin={{top: 20, right: 30, left: 20, bottom: 10}}>\n                <CartesianGrid strokeDasharray=\"3 3\"/>\n                <XAxis dataKey=\"name\" height={60} />\n                <YAxis/>\n                <Line type=\"monotone\" dataKey=\"rate\" stroke=\"#8884d8\" />\n            </LineChart>  \n            </ResponsiveContainer>\n        )\n    }\n\n\n\n  }\n\n  export default PriceChart;","import React, { Component } from \"react\";\n\nimport CrowdsaleTesting from './CrowdsaleTesting'\nimport PriceChart from './PriceChart'\n\n\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\n\n\n\nimport BITNCrowdsale from \"./contracts/BITNCrowdsale\"\n\n\n\n\nclass CrowdsaleOwnerPanel extends React.Component{\n\n    constructor (props){\n        super(props);\n\n        this.state = {\n            web3: props.web3,\n            crowdsaleInstance: null,\n            crowdsaleAddress: \"\",\n            accounts: props.accounts,\n            currentRate: 0,\n            newRate: 0,\n            amountOfBITN: 0,\n            amountOfWEI: 0,\n            amountOfETH: 0,\n            priceData: null,\n            newOwner: \"\"\n        }\n\n\n        //this.crowdsaleAddress = \"0xe982E462b094850F12AF94d21D470e21bE9D0E9C\"\n        //Mainnet\n        this.crowdsaleAddress = \"0x37Ff0201d4f574064d94844e46845BF8dDd1a9C6\"\n\n\n        this.handleChange= this.handleChange.bind(this)\n        this.handleSetRate = this.handleSetRate.bind(this)\n        this.handleChangeOwner = this.handleChangeOwner.bind(this)\n        this.changeOwner = this.changeOwner.bind(this)\n    }\n\n\n\n    componentDidMount(){\n        this.loadCrowdsaleContract().then( (res) => {\n            this.getAvailableBalance();\n        });\n    }\n\n\n    async loadCrowdsaleContract(){\n        const contract = require('truffle-contract')\n        const crowdsaleContract = contract(BITNCrowdsale)\n        crowdsaleContract.setProvider(this.state.web3.currentProvider)\n    \n        \n        await crowdsaleContract.at(this.crowdsaleAddress).then(instance => {\n            console.log(\"Crowdsale contract: \" + crowdsaleContract.address)\n\n            this.setState({\n                crowdsaleInstance: instance\n            });\n\n            this.getCurrentRate();\n            this.getHistoricalPriceData();\n\n        }).catch( (err) => {\n            console.log(\"There was an error: \" + err)\n        })\n    }\n\n\n    async getCurrentRate(){\n        this.state.crowdsaleInstance.getCurrentRate.call().then( (res) => {\n            console.log(res.toString())\n            this.setState({\n                currentRate: res.toString()\n            })\n        }).catch( (err) => {\n            console.log(\"Unable to fetch the current rate\")\n        })\n    }\n\n\n\n    async getAvailableBalance(){\n        this.state.crowdsaleInstance.getAvailableToken.call().then( (res) => {\n\n            let realAmount = this.state.web3.utils.fromWei(res)\n\n            this.setState({\n                availableBalance: realAmount.toString()\n            })\n\n        });\n    }\n\n\n    handleSetRate(event){\n        event.preventDefault();\n\n        console.log(\"Setting rate to : \" + this.state.newRate.toString())\n\n        this.state.web3.eth.getAccounts().then( (account) => {\n\n            //this.state.crowdsaleInstance.setRate(this.state.web3.utils.toBN(this.state.newRate).toString(), {from: account[0]}).then( (res) => {\n            this.state.crowdsaleInstance.setRate(this.state.web3.utils.toWei(this.state.newRate, \"wei\"), {from: account[0]}).then( (res) => {\n            \n            console.log(res)\n                this.getCurrentRate();\n            }).catch( (err) => {\n                console.log(err)\n            })\n\n\n\n        })\n\n    }\n\n\n    handleChange(event){\n        this.setState({\n            newRate: String(event.target.value)\n        })\n    }\n\n\n    handleChangeOwner(event){\n        this.setState({\n            newOwner: event.target.value\n        }, () => {\n            console.log(this.state.newOwner)\n        })\n    }\n\n\n    changeOwner(){\n\n        this.state.web3.eth.getAccounts().then( (account) => {\n\n            //this.state.crowdsaleInstance.setRate(this.state.web3.utils.toBN(this.state.newRate).toString(), {from: account[0]}).then( (res) => {\n            this.state.crowdsaleInstance.transferOwnership(this.state.newOwner, {from: account[0]}).then( (res) => {\n            \n                console.log(res)\n                \n            }).catch( (err) => {\n                console.log(err)\n            })\n\n\n\n        })        \n\n    }\n\n\n    render(){\n        return(\n            <Paper \n                elevation={4}\n                style={{ padding: 20, margin: 0, backgroundColor: '#fafafa' }}\n            >  \n                <Grid\n                    container\n                    spacing={1}\n                    direction=\"column\"\n                    justify=\"center\"\n                    alignItems=\"center\"\n                >\n                    <Grid item>\n                        {this.state.crowdsaleInstance !== null && (\n                            <PriceChart crowdsaleInstance={this.state.crowdsaleInstance} />\n                        )}\n                    </Grid>\n                    <Grid item>\n                        <Typography variant=\"h4\">Crowdsale Settings</Typography>\n                    </Grid>\n                    <Grid item>\n                        <Typography>Current exchange rate: <b>{this.state.currentRate}</b> wei</Typography>\n                    </Grid>\n                    <Grid item>\n                        <Typography>Current exchange liquidity: <b>{this.state.availableBalance}</b></Typography>\n                    </Grid>\n                    <Grid item>\n                        <Typography>Set new rate:</Typography>\n                        <TextField value={this.state.newRate} onChange={this.handleChange}></TextField>\n                    </Grid>\n                    <Grid item>\n                        <Button onClick={this.handleSetRate} variant=\"contained\" color=\"primary\">Set Rate</Button>\n                    </Grid>\n                    <Grid item>\n                        <CrowdsaleTesting web3={this.state.web3} />\n                    </Grid>\n                    <Grid item>\n                        <TextField value={this.state.newOwner} onChange={this.handleChangeOwner} />\n                        <Button onClick={this.changeOwner}>Change Owner</Button>\n                    </Grid>\n                </Grid>\n            </Paper>\n        )\n    }\n\n\n}\n\n\nexport default CrowdsaleOwnerPanel;","import React, { Component } from \"react\";\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport Grow from '@material-ui/core/Grow';\n\n\nimport { withSnackbar } from 'notistack';\n\n\nimport BigNumber from \"big-number\"\n\n\n//TODO: Handle multiple accounts\n\n\nclass FinalShutdownBox extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            contractInterface: this.props.contractInterface,\n            account: this.props.account,\n            stakingAddress: props.stakingAddress,\n            loading: false,\n            newOwner: \"\",\n            potToReturn: 0\n        }\n\n        this.web3 = props.web3\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.transerOwnership = this.transerOwnership.bind(this);\n        this.handleChangeOwner = this.handleChangeOwner.bind(this)\n\n        this.handlePotChange = this.handlePotChange.bind(this);\n        this.handleReturnPot = this.handleReturnPot.bind(this);\n\n    }\n\n\n    componentDidMount(){\n\n        this.setState({\n            newOwner: \"\"\n        })\n\n    }\n\n    componentWillUnmount(){\n        //TODO Unsubscribe the \"Pot Deposit Listener\"\n    }\n\n\n\n    finalShutdown(){\n\n        this.state.contractInterface.methods.finalShutdown().send({ from: this.state.account }).then((result) =>{\n            console.log(result)\n            this.props.enqueueSnackbar(\"Final shutdown executed\", {\n                variant: 'success',\n                anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                },\n            });            \n  \n\n        }).catch( (err) =>{\n            console.log(err)\n            this.props.enqueueSnackbar(\"Unable to call the final shutdown\", {\n                variant: 'error',\n                anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                },\n            });\n        });\n    }\n\n\n\n\n    transerOwnership(){\n        this.state.contractInterface.methods.transferOwnership(this.state.newOwner).send({ from: this.state.account }).then((result) =>{\n            console.log(result)\n            \n  \n\n        }).catch( (err) =>{\n            console.log(err)\n            this.props.enqueueSnackbar(\"Unable to transfer ownership\", {\n                variant: 'error',\n                anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                },\n            });\n        });\n    }\n\n\n    handleChangeOwner(event){\n        var newAddress = event.target.value\n\n\n        this.setState({\n            newOwner: newAddress\n        }, () => {\n            console.log(this.state.newOwner)\n        })\n\n    }\n\n\n    handleSubmit(event){\n        event.preventDefault();\n        this.finalShutdown();\n    }\n\n\n    handlePotChange(event){\n        var potValue = event.target.value;\n\n        this.setState({\n            potToReturn: potValue\n        }, () => {\n            console.log(this.state.potToReturn)\n        })\n\n    }\n\n\n    handleReturnPot(event){\n        event.preventDefault();\n\n\n        this.state.contractInterface.methods.returnPot(this.state.potToReturn).send({ from: this.state.account }).then((result) =>{\n            console.log(result)\n            this.props.enqueueSnackbar(\"Pot returned\", {\n                variant: 'info',\n                anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                },\n            });\n\n        }).catch( (err) =>{\n            console.log(err)\n            this.props.enqueueSnackbar(\"Unable to withdraw from pot\", {\n                variant: 'error',\n                anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                },\n            });\n        });\n\n    }\n\n\n    render(){\n\n        return (\n            <Grow in={true}>\n                <Paper \n                    elevation={4}\n                    style={{ padding: 20, margin: 0, backgroundColor: '#fafafa' }}\n                    >\n                        <Typography variant=\"h4\" component=\"h4\">Final Shutdown Box</Typography>\n\n                        <Grid\n                            container\n                            spacing={1}\n                            direction=\"column\"\n                            justify=\"center\"\n                            alignItems=\"center\"\n                            >\n                                <Grid item>\n                                    <Typography variant=\"body1\" component=\"h3\">Press the button to start the final shutdown on {this.state.stakingAddress}</Typography>\n                                </Grid>\n                                <Grid item>\n                                    <Button variant=\"contained\" color=\"secondary\" onClick={this.handleSubmit}>Final Shutdown</Button>\n                                </Grid>\n                                <Grid item>\n                                    <TextField value={this.state.newOwner} onChange={this.handleChangeOwner}></TextField>\n                                </Grid>\n                                <Grid item>\n                                    <Button variant=\"contained\" color=\"primary\" onClick={this.transerOwnership}>Transfer Ownership</Button>\n                                </Grid>\n                                <Grid item>\n                                    <Typography variant=\"body1\" component=\"h3\">Chose the amount to withdraw from the pot</Typography>\n                                    <TextField value={this.state.potToReturn} onChange={this.handlePotChange}></TextField>\n                                </Grid>\n                                <Grid item>\n                                    <Button variant=\"contained\" color=\"secondary\" onClick={this.handleReturnPot}>Return Pot</Button>\n                                </Grid>\n                        </Grid>\n                            \n                    </Paper>\n            </Grow>\n            \n        );\n\n    }\n}\n\nexport default withSnackbar(FinalShutdownBox);\n","import React, { Component } from \"react\";\nimport getWeb3 from \"./utils/getWeb3\";\n\nimport TokenSetup from \"./TokenSetup\"\nimport DepositPot from \"./DepositPot\"\nimport ApproveTransfer from \"./ApproveTransfer\"\nimport TokenContext from './TokenContext'\nimport CrowdsaleOwnerPanel from './CrowdsaleOwnerPanel'\nimport FinalShutdownBox from './FinalShutdownBox'\n\nimport Grid from '@material-ui/core/Grid'\n\n\n/**\n * @brief Component responsible of managing the contract Owner's feature\n * \n * Interface for the contract's owner feature, like depositing in the pot.\n * \n * It should be displayed only if the fetched account is the owner of the contract\n */\nclass OwnerBox extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            web3: props.web3,\n            stakingInstance: props.stakingInstance,\n            accounts: props.accounts,\n            tokenLoaded: props.tokenLoaded,\n            stakingAddress: props.stakingAddress\n        }\n        \n    }\n\n\n    componentDidUpdate(){\n\n    }\n\n\n    render(){\n\n            return(\n                <div>\n                    <Grid\n                    container\n                    spacing={3}\n                    direction=\"column\"\n                    justify=\"center\"\n                    alignItems=\"center\"\n                    > \n                        <Grid item>\n                            <TokenContext.Consumer>\n                                {context => (\n                                <ApproveTransfer \n                                    tokenAddress={context.address}\n                                    tokenName={context.name}\n                                    tokenSymbol={context.symbol}\n                                    decimals={context.decimals}\n                                    tokenInstance={context.instance}\n                                    accounts={this.state.accounts}\n                                    stakingAddress={this.state.stakingAddress}\n                                    web3={this.state.web3}>\n                                </ApproveTransfer>\n                                )}\n                            </TokenContext.Consumer>\n                        </Grid>\n                        <Grid item>\n                            <TokenContext.Consumer>\n                                {context => (\n                                    <DepositPot \n                                        tokenDecimals={context.decimals}\n                                        tokenSymbol={context.symbol}\n                                        tokenName={context.name}\n                                        tokenInstance={context.instance}\n                                        stakingAddress={this.state.stakingAddress}                                        \n                                        web3={this.state.web3}\n                                        contractInterface={this.state.stakingInstance}\n                                        account={this.state.accounts[0]}> \n                                    </DepositPot>\n                                )}\n                            </TokenContext.Consumer>\n                        </Grid>\n                        <Grid item>\n                            <CrowdsaleOwnerPanel\n                                web3={this.state.web3}\n                                accounts={this.state.accounts}\n                                >  \n                            </CrowdsaleOwnerPanel>\n\n                        </Grid>\n                        <Grid item>\n\n                        </Grid>\n                    </Grid>\n                </div>\n            );\n        \n    }\n\n\n\n    /*\n        <FinalShutdownBox \n            stakingAddress={this.state.stakingAddress}                                        \n            web3={this.state.web3}\n            contractInterface={this.state.stakingInstance}\n            account={this.state.accounts[0]}\n        />\n    */\n\n}\n\n\nexport default OwnerBox;","import React, { Component } from \"react\";\n\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid'\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n\nimport PenaltyWithdrawDialog from './PenaltyWithdrawDialog'\n\nimport { withSnackbar } from 'notistack';\nimport { Trans } from \"react-i18next\";\n\n\nclass WithdrawBox extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            contractInstance: props.contractInstance,\n            accounts: props.accounts,\n            stakeID: props.stakeID,     //The ID of the stake in the contract\n            amountStaked: 0,\n            referralAddress: 0,\n            withdrawPenalty: 0,\n            selectedAccount: props.accounts[0],\n            withdrawCallback: props.withdrawCallback,\n            loading: false,\n            elasped: true\n        }\n\n\n        this.handlePenaltyWithdraw = this.handlePenaltyWithdraw.bind(this)\n        this.handleDialogClose = this.handleDialogClose.bind(this)\n        this.handleSubmit = this.handleSubmit.bind(this)\n        this.setAccount = this.setAccount.bind(this)\n    }\n\n\n\n\n    handleSubmit(event){\n        event.preventDefault();\n\n        this.withdrawTokens();\n\n    }\n\n\n\n    withdrawTokens(){\n\n        this.setState({loading: true})\n        this.state.contractInstance.methods.returnTokens(this.state.stakeID).send({from: this.state.selectedAccount}).then( (result) => {\n\n            this.setState({loading: false})\n            console.log(result)\n\n            if(this.isWithdrawed(this.state.stakeID)){\n                console.log(\"Token successfullu withdrawed\")\n\n                this.state.withdrawCallback();\n\n                this.props.enqueueSnackbar(<Trans i18nKey=\"withdrawBox.tokenSuccesWithdrawMsg\" />, {\n                    variant: 'success',\n                    anchorOrigin: {\n                        vertical: 'bottom',\n                        horizontal: 'left',\n                    },\n                });\n            }else{\n                console.log(\"Unable to withdraw tokens, probably the time is not expired yet\")\n                this.props.enqueueSnackbar(<Trans i18nKey=\"withdrawBox.tokenSuccesWithdrawMsg\" />, {\n                    variant: 'error',\n                    anchorOrigin: {\n                        vertical: 'bottom',\n                        horizontal: 'left',\n                    },\n                });\n            }\n\n\n        }).catch( (err) => {\n            console.log(\"Unable to list active stake; \" + err)\n            this.setState({loadig: false})\n        });        \n    }\n\n\n    async isWithdrawed(_stakeID){\n        await this.state.contractInstance.methods.getStakeInfo(_stakeID).call().then( (result) => {\n\n            let withdrawed = Boolean(result[2])\n            return withdrawed\n        });\n    }\n\n\n    setAccount(_account){\n        this.setState({selectedAccount: _account});\n    }\n\n\n    handleDialogClose(){\n        this.setState({\n            showPenaltyWarning: false\n        })\n    }\n\n\n    handlePenaltyWithdraw(){\n        this.state.withdrawCallback();\n    }\n\n\n    render(){\n\n        if(this.state.loading){\n            return(\n                <CircularProgress />\n            );\n        }\n\n        /*\n                    <AccountLister \n                        accounts={this.state.accounts}\n                        callback={this.setAccount}>\n                    </AccountLister>\n\n\n                <Grid item>\n                    <TextField\n                        required\n                        label=\"Selected Account\"\n                        placeholder=\"500\"\n                        margin=\"normal\"\n                        variant=\"outlined\" \n                        value={this.state.selectedAccount}\n                        InputProps={{\n                            readOnly: true,\n                        }}                            \n                    />\n                </Grid>\n              ) : (\n                    <Grid item>\n                        <PenaltyWithdrawDialog\n                            open={this.state.showPenaltyWarning}\n                            contractInstance={this.state.contractInstance}\n                            accounts={this.state.accounts}\n                            stakeID={this.state.stakeID}\n                            onWithdraw={this.handlePenaltyWithdraw}>\n                        </PenaltyWithdrawDialog>\n                     </Grid>\n\n        */\n\n        return (\n            <Grid \n                container\n                spacing={1}\n                direction=\"column\"\n                justify=\"center\"\n                alignItems=\"center\"                \n            >\n                    <Grid item>\n                        <Typography color=\"primary\"><Trans i18nKey=\"withdrawBox.withdrawLabel\" /></Typography>\n                    </Grid>\n                    <Grid item>\n                        <Button variant=\"contained\" color=\"primary\" onClick={this.handleSubmit}><Trans i18nKey=\"stake_detail.withdraw\" /></Button>\n                    </Grid>\n\n            </Grid>\n        );\n\n    }\n\n\n}\n\n\nexport default withSnackbar(WithdrawBox);","import React, { Component } from \"react\";\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { Typography } from \"@material-ui/core\";\n\n\n\nclass PenaltyWithdrawDialog extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            contractInstance: props.contractInstance,\n            accounts: props.accounts,\n            stakeID: props.stakeID,     //The ID of the stake in the contract\n            amountStaked: props.amountStaked,\n            open: false,\n            withdrawPenalty: 0,\n            selectedAccount: props.accounts[0],\n            withdrawCallback: props.withdrawCallback,\n            onWithdrawCallback: props.onWithdraw,     //Callback called when the dialog is closed\n            loading: false,\n        }\n\n        this.handleClickOpen = this.handleClickOpen.bind(this)\n        this.handleClickClose = this.handleClickClose.bind(this)\n        this.handleSubmit = this.handleSubmit.bind(this)\n    }\n\n\n    handleClickOpen(){\n      this.setState({\n        open: true\n      })\n    }\n\n    handleClickClose(){\n      this.setState({\n        open: false\n      })\n    }\n\n    handleSubmit(){\n      this.setState({loading: true})\n      this.state.contractInstance.methods.withdrawWithPenalty(this.state.stakeID).send({from: this.state.selectedAccount}).then( (result) => {\n        this.setState({loading: false})\n        this.state.onWithdrawCallback();\n      });\n    }\n\n\n\n    render(){\n         return(\n            <div>\n            <Button variant=\"outlined\" color=\"secondary\" onClick={this.handleClickOpen}>\n                Withdraw with penalty\n            </Button>\n            <Dialog open={this.state.open} onClose={this.handleClickClose} aria-labelledby=\"form-dialog-title\">\n              <DialogTitle id=\"form-dialog-title\">Penalty Warning</DialogTitle>\n                {this.state.loading ? (\n                  <CircularProgress></CircularProgress>\n                ) : (\n                  <DialogContent>\n                    <DialogContentText>\n                        <Typography color=\"error\" component=\"h1\" variant=\"h3\">Warning:</Typography> \n                        <Typography color=\"error\" component=\"h5\" variant=\"h5\">Time is not elasped yet</Typography>\n                        <Typography component=\"body\">\n                          If you withdraw while the time is not elasped yet you wil \n                          incurr in a penalty of 10% of your amount.\n                        </Typography>\n                        <Typography component=\"h5\" variant=\"h5\">\n                          Continue?\n                        </Typography>\n                    </DialogContentText>\n                </DialogContent>\n              )}\n              <DialogActions>\n                {this.state.loading ? (\n                  <div></div>\n                ) : (\n                  <div>\n                    <Button onClick={this.handleClickClose} color=\"primary\">\n                      No\n                    </Button>\n                    <Button onClick={this.handleSubmit} color=\"secondary\">\n                      Yes\n                    </Button>\n                  </div>\n                )}\n\n              </DialogActions>\n            </Dialog>\n          </div>\n        );\n\n\n    }\n\n\n\n}\n\n\nexport default PenaltyWithdrawDialog;\n","import React, { Component } from \"react\";\n\nimport Button from '@material-ui/core/Button';\nimport { Typography } from \"@material-ui/core\";\n\nimport { withSnackbar } from 'notistack';\n\nimport { Trans } from \"react-i18next\";\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\n\nconst styles = theme => ({\n    withdrawRewardButton: {\n        background: 'linear-gradient(45deg, #23a644 30%, #024714 90%)',\n        borderRadius: 3,\n        border: 0,\n        color: 'white',\n        //height: 48,\n        padding: '0 30px',\n        boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n    },\n  });\n\n\nclass RewardBox extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            contractInstance: props.contractInstance,\n            tokenDecimals: props.tokenDecimals,\n            account: props.account,\n            stakeID: props.stakeID,\n            availableReward: props.availableReward,\n            \n        }\n\n\n        this.withdrawRewards = this.withdrawRewards.bind(this)\n    }\n\n\n\n\n    componentDidMount(){\n        this.state.contractInstance.events.PotExhausted().on('data', event => {\n            console.log(\"PotExhausted - Event Received\")\n\n            this.props.enqueueSnackbar(\"Pot Exhausted\", {\n                variant: 'error',\n                anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                },\n            });\n        });\n    }\n\n\n\n    withdrawRewards(){\n        this.state.contractInstance.methods.withdrawReward(this.state.stakeID).send({ from: this.state.account }).then( (rawResult) => {\n\n            console.log(rawResult)\n\n            let result = Boolean(rawResult)\n\n            if(result){\n                console.log(\"Reward successfully withdrawed\");\n            }else{\n                console.log(\"The POT is exhausted!!!!\")\n            }\n\n        }).catch( (err) => {\n            console.log(\"There was an error : \" + err)\n            this.props.enqueueSnackbar(\"Pot Exhausted\", {\n                variant: 'error',\n                anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                },\n            });\n        });\n    }\n\n    \n\n\n    render(){\n\n        const { classes } = this.props;\n\n\n        return(\n            <div>\n                <Typography color=\"textPrimary\"><Trans i18nKey=\"stake_detail.availableRewards\" />: <b>{this.state.availableReward.toString()}</b></Typography>\n                <Button \n                    className={classes.withdrawRewardButton}\n                    onClick={this.withdrawRewards}\n                    >\n                        <Trans i18nKey=\"stake_detail.withdrawReward\" />\n                </Button>\n            </div>\n        )\n    }\n\n}\n\n\n\n\nRewardBox.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\n\nexport default withSnackbar(withStyles(styles)(RewardBox));\n","import React, { Component } from \"react\";\nimport getWeb3 from \"./utils/getWeb3\";\n\n\nimport WithdrawBox from \"./WithdrawBox\"\nimport RewardBox from \"./RewardBox\"\n\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Grid from '@material-ui/core/Grid'\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\nimport Popover from '@material-ui/core/Popover';\n\n\nimport Cookies from 'universal-cookie';\nimport BigNumber from \"big-number\"\n\nimport UnarchiveIcon from '@material-ui/icons/Unarchive';\nimport ArchiveIcon from '@material-ui/icons/Archive';\nimport { TextField } from \"@material-ui/core\";\n\nimport { Trans } from \"react-i18next\";\n\n\n\nclass StakingDetail extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            contractInstance: props.contractInstance,\n            accounts: props.accounts,\n            stakeID: props.stakeID,     //The ID of the stake in the contract\n            periods: 0,\n            amountStaked: 0,\n            referralAddress: 0,\n            wasWithdraw: false,\n            creationTime: 0,\n            referer: 0,\n            gain: 0,\n            penalty: 0,\n            currentAmount: 0,\n            stakeWithdrawAmount: 0,\n            isArchived: props.isArchived,\n            loading: false,\n            tokenDecimals: props.tokenDecimals,\n            showReferer: false,\n            infoLoaded: false,\n\n            viewAmount: 0,\n            elasped: false              //True if the locked time is elasped\n        }\n\n        this.cookies = new Cookies();\n\n        this.archivedCallback = props.archivedCallback;\n        this.timer = null;\n\n\n        this.handleShowReferer = this.handleShowReferer.bind(this)\n        this.handleArchivement = this.handleArchivement.bind(this)\n        this.handleUnarchivement = this.handleUnarchivement.bind(this)\n        this.handleWithdraw = this.handleWithdraw.bind(this)\n    }\n\n\n\n\n    componentDidMount(){\n        //Stake Withdraw  Listener\n        this.state.contractInstance.events.StakeWithdraw().on('data', event => {\n            console.log(\"Stake Withdraw - Event Received\")\n            console.log(event)\n        });\n\n        this.state.contractInstance.events.rewardWithdrawed().on('data', event => {\n            console.log(\"Reward Withdraw - Event Received\")\n            this.fetchStakeInfo();\n        });\n\n        this.fetchStakeInfo();\n        this.isArchived()\n        this.getPeriods();\n        this.getAlreadyWithdrawed();\n    }\n\n\n\n\n    fetchStakeInfo(){\n        this.setState({loading: true});\n        \n        //TODO The staked amount is fetched multiple time, even the parent knows its value\n        this.state.contractInstance.methods.getStakeInfo(this.state.stakeID).call().then( (result) => {\n            \n            //1 - Amount Staked\n            //2 - isWithdrawed\n            //3 - Stake creation time\n            //4 - Referer\n            //5 - Current Amount (compound interest)\n            //6 - Penalty\n\n\n            this.setState({loading: false});\n\n            let _amount = BigNumber(result[0]);\n            let decimals = BigNumber(10).power(this.state.tokenDecimals)\n            _amount = _amount.divide(decimals)\n\n\n            let _currentAmount = BigNumber(result[4])\n            _currentAmount = _currentAmount.divide(decimals)\n\n            let _penalty = BigNumber(result[5])\n            _penalty = _penalty.divide(decimals)\n\n            this.setState({\n                amountStaked: result[0],\n                viewAmount: _amount.toString(),\n                wasWithdraw: Boolean(result[1]),\n                creationTime: result[2],\n                referer: result[3],\n                currentAmount: _currentAmount,\n                penalty: _penalty,\n                infoLoaded: true\n            }, () => {\n                this.calculateTime()\n                this.forceUpdate();\n            });\n\n        }).catch( (err) => {\n            console.log(\"Unable fetch Stake (\" + this.state.stakeID + \"); \" + err)\n        });\n        \n    }\n\n\n    calculateTime(){\n        var standardTimeLocked, standardCreationTime\n        try{\n            standardCreationTime = new Date(this.state.creationTime * 1000);\n        }catch(err){\n            console.log(\"Error while processing time\")\n            return;\n        }\n\n\n        if(Date.now() > standardTimeLocked){\n            this.setState({elasped: true,\n                           creationTimeString: standardCreationTime.toString()\n                         });\n        }else{\n            this.setState({elasped: false,\n                creationTimeString: standardCreationTime.toString(),\n              });            \n        }\n\n    }\n\n\n\n\n    getPeriods(){\n        this.state.contractInstance.methods.calculatePeriods(this.state.stakeID).call().then( (result) => {\n            let _periods = Number(result);\n            console.log(\"Periods\")\n            console.log(result)\n            this.setState({\n                periods: _periods\n            })\n        }).catch( (err) => {\n            console.log(\"Unable to fetch periods: \" + err)\n        })\n    }\n\n\n    calculateGain(){\n        let reward = this.state.currentAmount - this.state.amountStaked;\n\n        this.setState({\n            gain: reward\n        })\n    }\n\n\n    getAlreadyWithdrawed(){\n        this.state.contractInstance.methods.getAlreadyWithdrawedAmount(this.state.stakeID).call().then( (result) => {\n            console.log(result)\n            if(Boolean(result)){\n                console.log(\"Already Withdrawed\")\n            }else{\n                console.log(\"Availabel to be Withdrawed\")\n            }\n            \n        }).catch( (err) => {\n            console.log(\"Unable to fetch periods: \" + err)\n        })        \n    }\n\n\n    startTimer() {\n        this.timer = setInterval(() => {\n            this.calculateTime();\n        }, 1000)\n    }\n\n    //TODO Betterm management of archived stakes\n\n    handleArchivement(){\n        this.cookies.set(\"stake\" + this.state.stakeID, \"archived\", {path: \"/\"});\n        this.archivedCallback();\n        this.setState({isArchived: true})\n    }\n\n\n    handleUnarchivement(){\n        this.cookies.set(\"stake\" + this.state.stakeID, \"unarchived\", {path: \"/\"});\n        this.archivedCallback();\n        this.setState({isArchived: false})\n\n    }\n\n    isArchived(){\n        let string_value = this.cookies.get('stake' + this.state.stakeID)\n        let value = (string_value === \"archived\")\n        return value;\n    }\n\n\n    handleWithdraw(){\n        this.setState({\n            wasWithdraw: true\n        })\n    }\n\n\n\n    handleShowReferer(){\n        let currentValue = this.state.showReferer;\n\n        this.setState({\n            showReferer: !currentValue\n        })\n    }\n\n\n    render(){\n\n\n        if(this.state.loading){\n            return(\n                <CircularProgress />\n            );\n        }\n\n\n        return (\n            \n            <Grid\n                container\n                spacing={1}\n                direction=\"column\"\n                justify=\"center\"\n                alignItems=\"center\"\n            >\n                <Grid item>\n                    <Typography><Trans i18nKey=\"stake_detail.amountStaked\" /> : <b>{this.state.viewAmount}</b></Typography>\n                    <Typography><Trans i18nKey=\"stake_detail.periodElasped\" />: <b>{this.state.periods}</b></Typography>\n                    <Typography><Trans i18nKey=\"stake_detail.penalty\" />: <b>{this.state.penalty.toString()}</b></Typography>\n\n\n                    {/*<Typography><Trans i18nKey=\"stake_detail.gain\" />: <b color=\"green\">{this.state.gain}%</b></Typography>*/}\n                    <Typography><Trans i18nKey=\"stake_detail.withdrawed\" />: <b>{this.state.wasWithdraw ? \"YES\" : \"NO\"}</b></Typography>\n                </Grid>\n\n                <Grid item>\n                    <Typography color=\"textSecondary\"><Trans i18nKey=\"stake_detail.creationTime\" />: <b>{this.state.creationTimeString}</b></Typography>\n                </Grid> \n                <Grid item>\n                {!this.state.wasWithdraw ? (\n                    <Grid \n                        container\n                        spacing={1}\n                        direction=\"column\"\n                        justify=\"center\"\n                        alignItems=\"center\"\n                    >\n                        <Grid item>\n                            {this.state.infoLoaded && (\n                                    <RewardBox\n                                        stakeID={this.state.stakeID}\n                                        contractInstance={this.state.contractInstance}\n                                        account={this.state.accounts[0]}\n                                        availableReward={this.state.currentAmount}\n                                        tokenDecimals={this.state.tokenDecimals}  \n                                    >\n                                    </RewardBox>\n                            )}\n                        </Grid>\n\n                        <Grid item>\n                            <WithdrawBox \n                                stakeID={this.state.stakeID} \n                                contractInstance={this.state.contractInstance} \n                                accounts={this.state.accounts}\n                                withdrawCallback={this.handleWithdraw}\n                                >\n                            </WithdrawBox>\n                        </Grid>\n                    </Grid>\n\n                ) : (\n\n                    <div>\n                        {this.isArchived() ? (\n                            <Button \n                                variant=\"outlined\" \n                                color=\"inherit\" \n                                onClick={this.handleUnarchivement}\n                                startIcon={<UnarchiveIcon />}\n                                >\n                                    Unarchive\n                            </Button>\n                        ) : (\n                            <Button \n                                variant=\"outlined\" \n                                color=\"inherit\" \n                                onClick={this.handleArchivement}\n                                startIcon={<ArchiveIcon />}\n                                >\n                                    Archive\n                            </Button>\n                        )}\n                    </div>\n\n                )}  \n                </Grid>\n            </Grid>\n        );\n\n    }\n\n\n}\n\n\nexport default StakingDetail;","import React, { Component } from \"react\";\nimport StakingDetail from \"./StakingDetail\"\n\n\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Grid from '@material-ui/core/Grid'\n\nimport Cookies from 'universal-cookie';\nimport BigNumber from \"big-number\"\n\n\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\nimport NotInterestedIcon from '@material-ui/icons/NotInterested';\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\n\nconst styles = theme => ({\n    expansionPanel: {\n        //background: 'linear-gradient(#3b3735 19%, #FFFFFF 15% )',\n        //backgroundImage:\n        //'url(\"https://media.istockphoto.com/photos/plant-growing-picture-id510222832?k=6&m=510222832&s=612x612&w=0&h=Pzjkj2hf9IZiLAiXcgVE1FbCNFVmKzhdcT98dcHSdSk=\")',\n        borderRadius: 3,\n        border: 2,\n        //height: 48,\n        padding: '0 30px',\n        boxShadow: '0 3px 5px 2px rgba(18, 30, 29, .5)',\n    },\n  });\n\n\nclass StakingEntry extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            contractInstance: props.contractInstance,\n            accounts: props.accounts,\n            stakeID: props.stakeID,     //The ID of the stake in the contract\n            tokenDecimals: props.tokenDecimals,\n            timeLocked: 0,\n            compoundReward: 0,\n            amountStaked: 0,\n            referralAddress: 0,\n            moreDetail: false,\n            isArchived: props.isArchived\n        }\n\n        this.cookies = new Cookies();\n\n\n\n        this.detailBox = (\n            <p></p>\n        );\n\n\n        this.handleDetailView = this.handleDetailView.bind(this);\n        this.handleArchivement = this.handleArchivement.bind(this);\n    }\n\n\n\n    componentDidMount(){\n        this.getStakeAmount();\n        this.getStakeTime();\n        this.getCompoundReward();\n    }\n\n\n\n    async getStakeAmount() {\n        \n        this.state.contractInstance.methods.getCurrentStakeAmount(this.state.stakeID).call().then( (result) => {\n            let _amount = BigNumber(result);\n\n            let decimals = BigNumber(10).power(this.state.tokenDecimals)\n            _amount = _amount.divide(decimals)\n\n\n            this.setState({amountStaked: _amount.toString()}, () => {\n\n            });\n        }).catch( (err) => {\n            console.log(\"Unable to get stake amound for ID \" + this.state.stakeID + \"; \" + err)\n        });\n        \n    }\n\n\n    async getStakeTime() {\n        /*\n        this.state.contractInstance.methods.getCurrentStakeTime(this.state.stakeID).call().then( (result) => {\n            let timeLocked = Number(result);\n            this.setState({timeLocked: timeLocked}, () => {\n\n            });\n        }).catch( (err) => {\n            console.log(\"Unable to list active stake; \" + err)\n        });\n        */\n    }\n\n\n    async getCompoundReward() {\n        this.state.contractInstance.methods.calculateCompoundInterest(this.state.stakeID).call().then( (result) => {\n            console.log(result)\n        }).catch( (err) => {\n            console.log(\"Unable get compound reward; \" + err)\n        });        \n    }\n\n\n\n    handleDetailView() {\n        if(this.state.moreDetail === true)\n            this.setState({moreDetail: false})\n        else\n            this.setState({moreDetail: true})\n    }\n\n\n    handleArchivement(){\n        //TODO Handle archivement auto-hide\n        //this.setState({isArchived: true});\n    }\n\n\n    render(){\n\n        const { classes } = this.props;\n\n\n\n        if(this.state.moreDetail){\n            this.detailBox = (\n                <StakingDetail \n                    stakeID={this.state.stakeID} \n                    contractInstance={this.state.contractInstance} \n                    accounts={this.state.accounts}\n                    archivedCallback={this.handleArchivement}\n                    tokenDecimals={this.state.tokenDecimals}\n                    isArchived={this.state.isArchived}\n                    ></StakingDetail>\n            );\n        }else{\n            this.detailBox = (\n                <div></div>\n            )\n        }\n\n\n\n        return (\n            <ExpansionPanel \n                onChange={this.handleDetailView}\n                className={classes.expansionPanel}\n                >\n                <ExpansionPanelSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls=\"panel-content\"\n                    id=\"panel-header\"\n                >\n                    {this.state.isArchived ? (\n                        <NotInterestedIcon />\n                    ) : (\n                        <AttachMoneyIcon />\n                    )}\n                    <Typography variant=\"body1\" component=\"h6\" color=\"textPrimary\"> Amount Staked: <b>{this.state.amountStaked}</b></Typography>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <Grid container>\n                        {this.detailBox}\n                    </Grid>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        );\n\n    }\n\n\n}\n\n\nStakingEntry.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\n\nexport default withStyles(styles)(StakingEntry);","import React, { Component } from \"react\";\n\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\n\n\nimport BigNumber from 'big-number'\n\nimport { Trans } from \"react-i18next\";\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\n\nconst styles = theme => ({\n    box: {\n        color: 'orange',\n        colorDefault: 'black',\n        background : '#2e3b55d6',\n        borderRadius: 15,\n        border: 2,\n        padding: 20, \n        margin: 0, \n        boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n    },\n  });\n\nclass StakeInfo extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            viewAmount: 0,\n            referral: props.referral,\n            amountStaked: props.amountStaked,\n            numberOfStake: props.stakeNumber,\n            tokenDecimals: props.tokenDecimals,\n            hasReferral: true\n        }\n\n        console.log(props)\n    }\n\n\n    componentDidMount(){\n        let _amount = BigNumber(this.props.amountStaked);\n        let decimals = BigNumber(10).power(this.state.tokenDecimals)\n        _amount = _amount.divide(decimals)\n\n        \n        let _referral = \"\"\n\n        if(this.props.referral === \"\"){\n            this.setState({\n                referral: \"No\",\n                hasReferral: false\n            })\n        }\n\n        this.setState({\n            viewAmount: _amount.toString(),\n        })\n\n    }\n\n/*\n\n                <Grid item>\n                    {this.state.referer === \"0x0000000000000000000000000000000000000001\" ? (\n                        <Typography color=\"textSecondary\">Referer: <b>No</b></Typography>\n                    ) : (\n                        <Typography color=\"textSecondary\">Referer: <Button onClick={this.handleShowReferer}>{refButton}</Button></Typography>\n                    )}\n                </Grid>\n                <Grid item>\n                    {this.state.showReferer && (\n                        <TextField\n                            label=\"Referer Address\"\n\n                            value={this.state.referer}>\n                        </TextField>\n                    )}\n                </Grid>\n\n*/\n\n\n    render(){\n\n        const { classes } = this.props;\n\n\n        return(\n            <Paper\n            elevation={4}\n            className={classes.box}>\n                    <Typography variant=\"body1\" component=\"p\"><Trans i18nKey=\"account_info.totalAmount\" />: <b>{this.state.viewAmount}</b></Typography>\n                    <Typography variant=\"body1\" component=\"p\"><Trans i18nKey=\"account_info.numberOfActiveStake\" />: <b>{this.state.numberOfStake}</b></Typography>\n                    <Typography variant=\"body1\" component=\"p\">\n                        <Trans i18nKey=\"account_info.noReferralPresent\" />: \n                            {this.state.hasReferral ? (\n                                <TextField value={this.state.referral}></TextField>\n                            ) : (\n                                <b> No</b>\n                            )}\n\n                        </Typography>\n\n            </Paper>\n        )\n\n    }\n\n\n}\n\n\nStakeInfo.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(StakeInfo);","import React, { Component } from \"react\";\nimport getWeb3 from \"./utils/getWeb3\";\nimport StakingEntry from \"./StakingEntry\"\nimport AccountInfo from './AccountInfo'\nimport TokenContext from './TokenContext'\n\n\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\n\nimport Switch from '@material-ui/core/Switch';\n\nimport green from '@material-ui/core/colors/purple';\n\nimport Cookies from 'universal-cookie';\nimport ViewListIcon from '@material-ui/icons/ViewList';\n\nimport { translate, Trans } from \"react-i18next\";\n\nimport Grow from '@material-ui/core/Grow'\n\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\n\nconst styles = theme => ({\n    archivedSwitch: {\n        color: green[300],\n        '&$colorChecked': {\n            color: green[500],\n            '& + $colorBar': {\n            backgroundColor: green[500],\n            },\n        }\n    }\n  });\n\n\nclass StakingLister extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            contractInstance: props.contractInstance,\n            accounts: props.accounts,\n            numberOfStake: -1,\n            numberOfActiveStake: 0,\n            totalAmountStaked: 0,\n            stakingList: \"\",\n            showArchived: false,\n            referral: \"\",\n            referralLoaded: false,\n            tokenDecimals: props.tokenDecimals,\n            tokenSymbol: props.tokenSymbol\n        }\n\n        this.cookies = new Cookies();\n\n        this.handleShowArchived = this.handleShowArchived.bind(this)\n    }\n\n\n\n    componentDidMount(){\n\n        //Listeners\n        this.state.contractInstance.events.NewStake().on('data', event => {\n            console.log(\"New Stake - Event Received\")\n            this.newStakeListener(event);\n        });\n\n        this.state.contractInstance.events.StakeWithdraw().on('data', event => {\n            console.log(\"Stake Withdraw - Event Received\")\n            this.newWithdrawListener(event);\n        });\n\n\n        this.listActiveStake().then( () => {\n            this.populateStakingList();\n        });\n        \n        this.getTotalStake();\n\n        this.getActiveStakeNumber();\n\n        this.hasReferral();\n    }\n\n\n\n\n    async listActiveStake() {\n        \n        await this.state.contractInstance.methods.getStakeCount().call().then( (result) => {\n            var _numberOfStake = Number(result);\n            console.log(\"Number of stakes: \" + _numberOfStake)\n            this.setState({numberOfStake: _numberOfStake});\n            this.forceUpdate()\n        }).catch( (err) => {\n            console.log(\"Unable to list stake; \" + err)\n        });\n        \n    }\n\n    async getActiveStakeNumber() {\n        \n        await this.state.contractInstance.methods.getActiveStakeCount().call().then( (result) => {\n            var _numberOfActiveStake = Number(result);\n            console.log(\"Number of active stakes: \" + _numberOfActiveStake)\n            this.setState({numberOfActiveStake: _numberOfActiveStake});\n        }).catch( (err) => {\n            console.log(\"Unable to list active stake; \" + err)\n        });\n        \n    }\n\n    async getTotalStake() {\n        await this.state.contractInstance.methods.getTotalStakeAmount().call().then( (result) => {\n            console.log(\"getTotalStake: \" + result)\n            let _totalStake = Number(result);\n            this.setState({totalAmountStaked: _totalStake}, () => {\n\n            });\n        }).catch( (err) => {\n            console.log(\"Unable to list active stake; \" + err)\n        });\n    }\n\n\n\n\n\n\n    newStakeListener(event) {\n        this.getTotalStake();\n        this.listActiveStake();\n        this.updateUI()\n    }\n\n\n    newWithdrawListener(event){\n        this.getTotalStake();\n        this.listActiveStake();\n        this.updateUI()\n    }\n    \n\n    populateStakingList(){\n\n        let list = []\n\n        for(let i=0; i<this.state.numberOfStake; i++){\n            console.log(\"Staking number \" + i)\n\n            let archived\n            let archived_string = this.cookies.get('stake' + i)\n\n            console.log(archived_string)\n\n            if(archived_string === \"archived\"){\n                archived = true;\n            }else if (archived_string === \"unarchived\"){\n                archived = false;   \n            }else{\n                //If it not exists set to \"unarchived\"\n                if(typeof this.state.stakeID !== \"undefined\"){\n                    this.cookies.set(\"stake\" + this.state.stakeID, \"unarchived\", {path: \"/\"});\n                    archived = false;\n                }\n            }\n            \n            \n            console.log(\"Is \"+ i + \" archived? -> \" + Boolean(archived)  )\n\n\n\n\n            if(archived && !this.state.showArchived){\n                console.log(\"Detected archived stake at \" + i   )\n                continue;\n            }\n\n            console.log(\"Pushinng stake : \" + i)\n            list.push(\n                    <StakingEntry \n                        stakeID={i} \n                        contractInstance={this.state.contractInstance} \n                        accounts={this.state.accounts}\n                        isArchived={archived}\n\n                        tokenDecimals={this.state.tokenDecimals}\n                        tokenSymbol={this.state.tokenSymbol}\n                        >\n                    </StakingEntry>\n            );\n        }\n\n        console.log(list)\n\n        this.setState({\n            stakingList: list\n        })\n\n        this.forceUpdate();\n    }\n\n\n\n    updateUI(){\n        this.listActiveStake().then( () => {\n            this.getTotalStake().then( () => {\n                this.populateStakingList();\n            });\n        });\n    }\n\n\n    handleShowArchived(){\n        let currentValue = this.state.showArchived\n\n        this.setState({\n            showArchived: !currentValue\n        })\n        this.updateUI();\n    }\n\n\n    async hasReferral(){\n\n        await this.state.contractInstance.methods.hasReferral().call().then( (result) => {\n            console.log(\"Has referral\")\n            console.log(result);\n\n            let boolResult = Boolean(result);\n\n            if(boolResult){\n                this.getReferral();\n            }else{\n                this.setState({\n                    referralLoaded: true,\n                    referral: \"\"\n                })\n            }\n\n        }).catch( (err) => {\n            console.log(\"Unable to list active stake; \" + err)\n        });\n\n\n\n    }\n\n\n    async getReferral(){\n\n        await this.state.contractInstance.methods.getMyReferral().call().then( (result) => {\n            let myReferral = result\n            console.log(\"Referral: \"+ myReferral)\n            this.setState({\n                    referralLoaded: true,\n                    referral: myReferral\n            })\n        }).catch( (err) => {\n            console.log(\"Fetch referral address; \" + err)\n        });\n\n    }\n\n\n\n    render(){\n\n        const { classes } = this.props;\n\n\n        return (\n            <Grow in={true}>\n                <Paper \n                elevation={4}\n                style={{ padding: 20, margin: 0, backgroundColor: '#fafafa' }}\n                >  \n                    <Grid\n                        container\n                        spacing={1}\n                        direction=\"column\"\n                        justify=\"center\"\n                        alignItems=\"center\"\n                    >\n                        <Grid item>\n                            <Grid container direction=\"row\" alignItems=\"center\">\n                                <ViewListIcon />\n                                <Typography variant=\"h4\" component=\"h4\"><Trans i18nKey=\"staking_list.title\" /></Typography>\n                            </Grid>\n                        </Grid>\n                        <Grid item>\n                            {this.state.referralLoaded & this.state.numberOfActiveStake !== -1 && (\n                                <AccountInfo\n                                stakeNumber={this.state.numberOfActiveStake}\n                                amountStaked={this.state.totalAmountStaked}\n                                referral={this.state.referral}\n                                tokenDecimals={this.state.tokenDecimals}\n                                ></AccountInfo>\n                            )}\n\n                            <Trans i18nKey=\"staking_list.showArchived\" />\n                            <Switch\n                                checked={this.state.showArchived}\n                                onChange={this.handleShowArchived}\n                                value={this.state.showArchived}\n                                //inputProps={{ 'aria-label': 'secondary checkbox' }}\n                                className={classes.archivedSwitch}\n                            />               \n                        </Grid>\n                        <Grid item>\n                            {this.state.stakingList === \"\" ? (\n                                <Typography color=\"textSecondary\"><Trans i18nKey=\"staking_list.noStakePresent\" /></Typography>\n                            ): (\n                                this.state.stakingList\n                            )}\n                        </Grid>\n                    </Grid>\n                </Paper>\n            </Grow>\n        );\n\n    }\n\n\n}\n\n\nStakingLister.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\n\nexport default withStyles(styles)(StakingLister);","import React, { Component } from \"react\";\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid'\nimport Checkbox from '@material-ui/core/Checkbox';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Grow from '@material-ui/core/Grow'\n\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport LockIcon from '@material-ui/icons/Lock';\n\nimport PropTypes from 'prop-types';\n\n\nimport BigNumber from \"big-number\"\nimport { Trans } from \"react-i18next\";\n\n\nimport { withSnackbar } from 'notistack';\nimport { withStyles } from '@material-ui/core/styles';\n\n\nconst styles = theme => ({\n    bar: {\n      color: 'orange',\n      colorDefault: 'black',\n      background : '#2E3B55'\n    },\n    stakeButton: {\n        background: '#ff551f',\n        color: \"#efeded\",\n        border: \"1 px solid\",\n        borderColor: \"rgba(43, 43, 43, 0.5)\",\n        \"&:hover, &.Mui-focusVisible\": { \n            backgroundColor: \"#f77f5ae8\",\n            color: \"#000000\",\n            border: \"1 px solid\",\n            borderColor: \"rgba(43, 43, 43, 0.5)\",\n        }\n    },\n    checkBoxReferral: {\n        \"&:checked, &.Mui-checked\": {\n            color: \"#cf5d26\"\n        }\n    }\n  });\n  \n\nclass StakingForm extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            contractInstance: props.contractInstance,\n            account: props.account,\n            tokenInstance: props.tokenInstance,\n            tokenDecimals: props.tokenDecimals,\n            stakingAddress: props.stakingAddress,\n            amountToStake: 100,\n            tokenBalance: 0,\n            showReferralInput: false,\n            hasReferral: false,\n            hasAllowance: false,\n            allowanceValue: 0,\n            referralAddress: \"\",\n            loading: false,                      //Display the loading icon during contract request,\n            approvementConfirmed: false\n        }\n\n\n        this.web3 = props.web3\n\n        this.handleAmountChange = this.handleAmountChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleReferralCheckbox = this.handleReferralCheckbox.bind(this)\n        this.handleReferralAddress = this.handleReferralAddress.bind(this)\n    }\n\n\n    componentDidMount(){\n        this.hasReferral();\n        this.checkAllowance();\n        this.getTokenBalance();\n    }\n\n\n    handleAmountChange(event){\n        let _amountToStake = Number(event.target.value)\n\n        let decimals = BigNumber(10).pow(this.state.tokenDecimals)\n\n        let result = BigNumber(_amountToStake).multiply(decimals)\n\n        let finalAmount = this.web3.utils.toBN(result.toString())\n\n        this.setState({\n            amountToStake: _amountToStake,\n            finalAmount: finalAmount\n        })\n    }\n\n\n    handleReferralCheckbox(event){\n        if(event.target.checked === true)\n            this.setState({showReferralInput: true})\n        else\n            this.setState({showReferralInput: false})\n    }\n\n    handleReferralAddress(event){\n        this.setState({referralAddress: event.target.value})\n    }\n\n    async getTokenBalance(){\n        await this.state.tokenInstance.balanceOf(this.state.account).then( (response) => {\n            console.log(response);\n\n            let decimals = BigNumber(10).pow(this.state.tokenDecimals)\n\n            let viewBalance = BigNumber(response.toString()).divide(decimals)\n\n            this.setState({tokenBalance: viewBalance.toString()})\n\n        }).catch( (err) =>{\n            console.log(err );\n        });\n    }\n\n\n    handleSubmit(event){\n        event.preventDefault();\n        console.log(this.state.finalAmount)\n        if(typeof this.state.finalAmount == \"undefined\"){\n            console.log(\"Invalid amount\")\n            this.props.enqueueSnackbar(<Trans i18nKey=\"staking_form.errorUndefinedStake\" />, {\n                variant: 'warning',\n                anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                },\n            });\n            return;\n        }\n\n        this.checkAllowance().then( () => {\n\n            console.log(this.state.allowanceValue)\n            if(this.state.amountToStake > this.state.allowanceValue){\n                this.props.enqueueSnackbar(<Trans i18nKey=\"staking_form.errorNoAllowance\" />, {\n                    variant: 'error',\n                    anchorOrigin: {\n                        vertical: 'bottom',\n                        horizontal: 'left',\n                    },\n                });\n                return;\n            }\n    \n            console.log(this.state.tokenBalance)\n            if(this.state.amountToStake > this.state.tokenBalance){\n                this.props.enqueueSnackbar(<Trans i18nKey=\"staking_form.errorInsufficientFunds\" />, {\n                    variant: 'error',\n                    anchorOrigin: {\n                        vertical: 'bottom',\n                        horizontal: 'left',\n                    },\n                });\n                return\n            }\n    \n    \n            \n            this.activateStake(); \n\n\n        });\n\n\n    }\n\n\n    async checkAllowance(){\n        \n        if(this.state.tokenInstance == null){\n            console.log(\"The contract is not instantiated yet\")\n            return;\n        }\n\n\n        this.setState({loading: true})\n\n        await this.state.tokenInstance.allowance(this.state.account, this.state.stakingAddress).then( (amountAllowed) => {\n            if(!amountAllowed.isZero()){\n                console.log(\"Has positive allowance\");\n\n                //Calculating the current allowance\n                let decimals = BigNumber(10).pow(this.state.tokenDecimals)\n\n                let viewBalance = BigNumber(amountAllowed.toString()).divide(decimals)\n    \n                this.setState({\n                    allowanceValue: viewBalance.toString(),\n                    hasAllowance: true,\n                    loading: false\n                })\n\n                console.log(this.state.allowanceValue)\n            }else{\n                console.log(\"Has negative allowance\");\n                this.setState({\n                    hasAllowance: false,\n                    loading: false,\n                    allowanceValue: 0\n                })\n            }\n        }).catch( (err) =>{\n            console.log(err);\n            this.setState({loading: false})\n        });\n\n    }\n\n\n\n\n    async activateStake(){\n\n\n        var _referralAddress = \"0x0000000000000000000000000000000000000001\";\n\n        if(!this.state.hasReferral && this.state.showReferralInput)\n            _referralAddress = this.state.referralAddress\n\n        this.setState({loading: true})\n\n        this.state.contractInstance.methods.stakeToken(this.state.finalAmount.toString(), _referralAddress).send({ from: this.state.account }).then( (result) => {\n            console.log(\"Correctly staked \" + this.state.amountToStake + \" tokens\")\n            this.setState({\n                loading: false,\n                approvementConfirmed:false\n            })\n\n\n\n            this.props.enqueueSnackbar(<Trans i18nKey=\"staking_form.correctStake\" />, {\n                variant: 'success',\n                anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                },\n            });\n\n\n            this.hasReferral(); //Used to hide the Referral input\n\n        }).catch( (err) => {\n            console.log(\"Unable to stake; \" + err)\n            this.setState({loading: false})\n            this.props.enqueueSnackbar(<Trans i18nKey=\"staking_form.stakingPending\" />, {\n                variant: 'warning',\n                anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                },\n            });\n        });\n\n    }\n\n\n    async hasReferral(){\n        this.state.contractInstance.methods.hasReferral().call().then( (result) => {\n            this.setState({\n                hasReferral: Boolean(result)\n            })\n        }).catch( (err) => {\n            console.log(\"Unable to fetch if the account has referral\")\n        });        \n    }\n\n\n    render(){\n\n        const { classes } = this.props;\n\n\n        let referral_input\n\n        if (this.state.showReferralInput === true){\n            referral_input = (\n                <Grid item>\n                    <TextField\n                                label={<Trans i18nKey=\"staking_form.referralPlaceholder\" />}\n                                margin=\"normal\"\n                                variant=\"outlined\" \n                                onChange={this.handleReferralAddress}\n                                value={this.state.referralAddress}                               \n                    /> \n                </Grid>\n            );\n        }\n\n        /*\n        if(this.state.loading){\n            return(\n                <div>\n                    <CircularProgress />\n                    {this.state.approvementConfirmed && (\n                        <Typography>Approvement granted, waiting for the contract transaction...</Typography>\n                    )}\n                </div>\n            );\n        }\n        */\n\n\n        /*\n        if(!this.state.hasAllowance){\n\n            return (\n                <div>\n                    <Typography>Currently you have no allowance, please set a value in the \"Approvement\" panel</Typography>\n                </div>\n            )\n\n        }\n        */\n\n        return (\n            <Grow in={true}>\n                <Grid\n                    container\n                    spacing={1}\n                    direction=\"column\"\n                    justify=\"center\"\n                    alignItems=\"center\"\n                >\n                    <Grid item>\n                        <TextField\n                                type=\"number\"\n                                required\n                                label={<Trans i18nKey=\"staking_form.textBoxHelper\" />}\n                                margin=\"normal\"\n                                variant=\"outlined\" \n                                onChange={this.handleAmountChange}\n                                value={this.state.amountToStake}  \n                                autoFocus \n                                inputProps={{ min: \"100\", max: \"100000\", step: \"1\" }}\n                        />\n                    </Grid>\n\n                    <Grid item>\n\n                    </Grid>\n                    {!this.state.hasReferral && ( \n                    <Grid item>\n                        <Grid \n                            container\n                            direction=\"row\"\n                            justify=\"center\"\n                            alignItems=\"center\"\n                            >\n                            <Grid item>\n                                <Typography variant=\"body1\" component=\"p\"><Trans i18nKey=\"staking_form.referralCheckbox\" /></Typography>\n                            </Grid>\n                            <Grid item>\n                                <Checkbox\n                                    checked={this.state.showReferralInput}\n                                    onChange={this.handleReferralCheckbox}\n                                    checked={this.state.showReferralInput}\n                                    inputProps={{\n                                    'aria-label': 'primary checkbox',\n                                    }}\n                                    className={classes.checkBoxReferral}\n                                />\n                            </Grid>\n                        </Grid>\n\n                        {referral_input}\n                    </Grid>\n                    )}\n                    <Grid item>\n                        <Button \n                            variant=\"contained\" \n                            color=\"secondary\" \n                            onClick={this.handleSubmit}\n                            startIcon={<LockIcon />}\n                            className={classes.stakeButton}                            \n\n                            >\n                                Stake\n                            </Button>\n                    </Grid>\n                </Grid>\n            </Grow>\n        );\n\n    }\n\n\n}\n\n\n\nStakingForm.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\n\nexport default withSnackbar( withStyles(styles)(StakingForm));","import React, { Component } from \"react\";\nimport getWeb3 from \"./utils/getWeb3\";\nimport StakingLister from \"./StakingLister\"\nimport StakingForm from \"./StakingForm\"\n\nimport ViewListIcon from '@material-ui/icons/ViewList';\n\n\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\n\n\nimport TokenContext from './TokenContext'\nimport ApproveInfo from \"./ApproveInfo\"\n\nimport { translate, Trans } from \"react-i18next\";\nimport Grow from '@material-ui/core/Grow'\n\n\n\nclass StakingPanel extends Component{\n\n    constructor(props){\n        super(props);\n\n        console.log(props);\n\n        this.state = {\n            tokenAddress: props.tokenAddress,\n            contractInterface: this.props.contractInterface,\n            stakingAddress: props.stakingAddress,\n            accounts: props.accounts,\n            account: props.accounts[0],\n            subscriptionEnded: false\n        }\n\n        this.newStakeHandler = this.newStakeHandler.bind(this)      \n\n    }\n\n\n\n    componentDidMount(){\n        this.checkSubscriptionEnd();\n    }\n\n\n\n    newStakeHandler(){\n        this.forceUpdate();\n    }\n\n        \n\n\n    checkSubscriptionEnd(){\n        this.state.contractInterface.methods.isSubscriptionEnded().call().then( (result) => {\n            console.log(result)\n            console.log(\"Subscription ended?  \" + result);\n            this.setState({\n                subscriptionEnded: Boolean(result)\n            })\n        }).catch ( (err) => {\n            console.log(err)\n        });\n    }\n\n\n\n\n    render(){\n\n        console.log(this.state.subscriptionEnded)\n\n        return (\n            <Grow in={true}>\n                <Paper \n                    elevation={4}\n                    style={{ padding: 20, margin: 0, backgroundColor: '#fafafa' }}\n                >  \n                    <Grid\n                        container\n                        spacing={1}\n                        direction=\"column\"\n                        justify=\"center\"\n                        alignItems=\"center\"\n                    >\n                        {!this.state.subscriptionEnded ? (\n                            <div>\n                            <Grid item>  \n                                <Typography color=\"textPrimary\" variant=\"h4\"><Trans i18nKey=\"staking_form.title\" /></Typography>\n                                <Typography color=\"textSecondary\">\n                                    <Trans i18nKey=\"staking_form.subtitle\" />\n                                </Typography>\n                                <ApproveInfo></ApproveInfo>\n                            </Grid>\n                            <Grid item>\n                                <TokenContext.Consumer>\n                                            {context => (\n                                                <StakingForm \n                                                    tokenAddress={context.address}\n                                                    tokenName={context.name}\n                                                    tokenSymbol={context.symbol}\n                                                    tokenInstance={context.instance}\n                                                    stakingAddress={this.state.stakingAddress}\n                                                    web3={context.web3}\n                                                    contractInstance={this.state.contractInterface} \n                                                    account={this.state.account}\n                                                    newStakeHandler={this.newStakeHandler}\n                                                    tokenDecimals={context.decimals}>\n                                                </StakingForm>\n                                            )}\n                                </TokenContext.Consumer>\n                            </Grid>\n                            </div>\n                        ) : (\n                            <div>\n                                <Typography>Subscription ended</Typography>\n                            </div>\n                        )}\n\n                    </Grid>\n                </Paper>\n            </Grow>\n        );\n\n    }\n\n}\n\n\nexport default StakingPanel;","import React, { Component } from \"react\";\n\nimport { Typography } from \"@material-ui/core\";\nimport Link from '@material-ui/core/Link';\n\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Container from '@material-ui/core/Container';\nimport BigNumber from \"big-number\"\n\nimport { Trans } from \"react-i18next\";\n\n\n\n\nclass ReferralEntry extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            contractInstance: props.contractInstance,\n            tokenDecimals: props.tokenDecimals,\n            account: props.account,\n            referredAddress: props.referredAddress,\n            stakeID: null,\n            availableReward: 0,\n          \n        }\n\n\n        this.withdrawRewards = this.withdrawRewards.bind(this)\n    }\n\n\n    componentDidMount(){\n        this.fetchReferralReward();\n    }\n\n\n    withdrawRewards(){\n\n    }\n\n\n    fetchReferralReward(){\n        this.state.contractInstance.methods.calculateRewardReferral(this.state.referredAddress).call().then( (rawResult) => {\n            console.log(rawResult)\n\n            let decimals = BigNumber(10).power(this.state.tokenDecimals);\n            let realAmount = BigNumber(rawResult).divide(decimals);\n\n            this.setState({\n                availableReward: realAmount.toString()\n            })\n        }).catch( (err) => {\n            console.log(\"Unable to calculate\")\n        });\n    }  \n\n\n    render(){\n        return(\n            <Container maxWidth=\"sm\">\n                <Link href={\"https://etherscan.io/address/\"+ this.state.referredAddress} id=\"list-elem\">\n                    <ListItemText primary={this.state.referredAddress} />\n                </Link>\n                <Typography color=\"textSecondary\"><Trans i18nKey=\"referral_panel.availableReward\" />: {this.state.availableReward}</Typography>\n            </Container>\n        )\n    }\n\n}\n\n\nexport default ReferralEntry;\n","import React, { Component } from \"react\";\n\n\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nimport BigNumber from \"big-number\"\n\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\n\nimport ReferralEntry from './ReferralEntry'\n\nimport GetAppIcon from '@material-ui/icons/GetApp';\n\nimport Grow from '@material-ui/core/Grow'\n\nimport { Trans } from \"react-i18next\";\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { TextField } from \"@material-ui/core\";\n\nimport { withSnackbar } from 'notistack';\n\n\nclass ReferralBox extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            contractInstance: props.contractInstance,\n            account: props.account,\n            tokenDecimals: props.tokenDecimals,\n            referrals: null,\n            referral_list: \"\",\n            viewReferralReward: 0\n        }\n\n        this.referral_list = \"\"\n\n        this.withdrawReferralReward = this.withdrawReferralReward.bind(this)\n\n    }\n\n\n\n    componentDidMount(){\n        this.fetchReferral();\n        this.fetchTotalReward();\n\n        this.state.contractInstance.events.referralRewardSent().on('data', event => {\n            console.log(\"Referral Withdraw - Event Received\")\n\n            console.log(event)\n            this.fetchReferral();\n\n            this.forceUpdate();\n            let referral = event.returnValues.account;\n\n            console.log(referral)\n            console.log(this.state.account)\n            if(referral == this.state.account){\n                this.fetchReferral();\n            }\n\n        });\n\n    }\n\n    fetchReferral(){\n        \n        this.state.contractInstance.methods.getCurrentReferrals().call().then( (result) => {\n            console.log(\"Fetched Referrals\")\n            console.log(result)\n\n            if(result.length == 0){\n                result = null;\n            }\n\n            this.setState({referrals: result}, () => {\n                this.fetchTotalReward();\n            });\n        }).catch( (err) => {\n            console.log(\"Unable to list active stake; \" + err)\n        });       \n         \n    }\n\n\n    fetchTotalReward(){\n        this.state.contractInstance.methods.calculateTotalRewardReferral().call().then( (rawResult) => {\n\n            console.log(\"TotalReward:\" + rawResult)\n\n            let decimals = BigNumber(10).power(this.state.tokenDecimals);\n            let realAmount = BigNumber(rawResult).divide(decimals);\n\n            this.setState({\n                viewReferralReward: realAmount.toString()\n            })\n\n        }).catch( (err) => {\n            console.log(err)\n        });\n\n        if(this.state.referrals === null || this.state.referrals.length === 0){\n            console.log(\"No referrals present\")\n            return;\n        }\n\n        \n        this.state.contractInstance.methods.getLowestStake(this.state.referrals[0]).call().then( (rawResult) => {\n            console.log(\"Lowest stake:\")\n            console.log(rawResult)\n\n        }).catch( (err) => {\n            console.log(err)\n        });\n        \n\n    }\n\n\n    fetchStakeReward(){\n        this.state.contractInstance.methods.calculateRewardReferral(this.state.referrals[0]).call().then( (rawResult) => {\n            console.log(rawResult)\n        }).catch( (err) => {\n            console.log(\"Unable to calculate\")\n        });\n    }\n\n\n    withdrawReferralReward(){\n        this.setState({\n            loading: true\n        })\n        this.state.contractInstance.methods.withdrawReferralReward().send({ from: this.state.account }).then( (rawResult) => {\n\n            console.log(rawResult)\n\n            let result = Boolean(rawResult)\n\n            if(result){\n                console.log(\"Reward successfully withdrawed\");\n            }else{\n                console.log(\"The POT is exhausted!!!!\")\n            }\n\n            this.fetchTotalReward();\n            this.fetchReferral();\n            this.setState({loading: false})\n        }).catch( (err) => {\n            console.log(\"There was an error : \" + err)\n            this.setState({loading: false})\n\n        });\n    }\n\n\n\n    render(){\n\n        return (\n            <Grow in={true}>\n                <Paper \n                    elevation={4}\n                    style={{ padding: 20, margin: 0, backgroundColor: '#fafafa' }}\n                >  \n                    <Grid\n                        container\n                        spacing={1}\n                        direction=\"column\"\n                        justify=\"center\"\n                        alignItems=\"center\"\n                    >\n                        <Grid item>\n                            <Typography variant=\"h4\" component=\"h4\"><Trans i18nKey=\"referral_panel.referralTitle\" /></Typography>\n                        </Grid>\n                        <Grid item>\n                            <Typography><Trans i18nKey=\"referral_panel.myReferralLabel\" />: </Typography>\n                        </Grid>\n                        <Grid item>\n                            <TextField value={this.state.account}></TextField>\n                        </Grid>\n                        <Grid item>\n                            <CopyToClipboard\n                                text={this.state.account}\n                                onCopy={() => {\n                                    this.props.enqueueSnackbar(<Trans i18nKey=\"referral_panel.copyMessage\" />, {\n                                        variant: 'info',\n                                        anchorOrigin: {\n                                            vertical: 'bottom',\n                                            horizontal: 'left',\n                                        },\n                                    });\n                                }}\n                            > \n                                <Button variant=\"outlined\"><Trans i18nKey=\"referral_panel.copyButton\" /></Button>\n                            </CopyToClipboard>\n                            \n                        </Grid>\n                            {this.state.referrals !== null ? (\n                                <div>\n                                    <Grid item>\n                                        {!this.state.loading ? (\n                                            this.referral_list = this.state.referrals.map( (ref_address) => \n                                            <ListItem button>\n                                                <ReferralEntry\n                                                    contractInstance={this.state.contractInstance}\n                                                    account={this.state.account}\n                                                    tokenDecimals={this.state.tokenDecimals}\n                                                    referredAddress={ref_address}\n                                                >\n                                                </ReferralEntry>\n                                            </ListItem>\n                                            )\n                                        ) : (\n                                            <CircularProgress />\n                                        )}\n                                        <List component=\"nav\">\n\n                                        </List>\n                                    </Grid>\n                                    <Grid item>\n                                        <Typography><Trans i18nKey=\"referral_panel.totalAvailavelReward\" />: <b>{this.state.viewReferralReward}</b></Typography>\n                                    </Grid>\n                                    <Grid item>\n                                        <Button \n                                            onClick={this.withdrawReferralReward}\n                                            variant=\"contained\" \n                                            color=\"primary\"\n                                            startIcon={<GetAppIcon />}\n                                        >\n                                            <Trans i18nKey=\"referral_panel.withdrawAll\" />\n                                        </Button>\n                                    </Grid>\n                                </div>\n                            ): (\n                                <Grid item>\n                                    <Typography color=\"error\"><ErrorOutlineIcon></ErrorOutlineIcon></Typography>\n                                    <Typography color=\"error\"><Trans i18nKey=\"referral_panel.noReferral\" /></Typography>\n                                </Grid>\n                            )}\n\n                    </Grid>\n                </Paper>\n            </Grow>\n        );\n\n    }\n\n\n}\n\n\nexport default withSnackbar(ReferralBox);","import React, { Component } from \"react\";\n\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid'\n\nimport { Trans } from \"react-i18next\";\nimport Grow from '@material-ui/core/Grow'\n\n\nimport getWeb3 from \"./utils/getWeb3\";\nimport BITNCrowdsale from \"./contracts/BITNCrowdsale\"\nimport { TextField } from \"@material-ui/core\";\n\nimport BigNumber from \"big-number\"\n\nimport PriceChart from './PriceChart'\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withSnackbar } from 'notistack';\n\n\nconst styles = theme => ({\n    bar: {\n      color: 'orange',\n      colorDefault: 'black',\n      background : '#2E3B55'\n    },\n    buyButton: {\n        background: '#ff551f',\n        color: \"#efeded\",\n        border: \"1 px solid\",\n        borderColor: \"rgba(43, 43, 43, 0.5)\",\n        \"&:hover, &.Mui-focusVisible\": { \n            backgroundColor: \"#f77f5ae8\",\n            color: \"#000000\",\n            border: \"1 px solid\",\n            borderColor: \"rgba(43, 43, 43, 0.5)\",\n        }\n    },\n    checkBoxReferral: {\n        \"&:checked, &.Mui-checked\": {\n            color: \"#cf5d26\"\n        }\n    }\n  });\n\nclass CrowdsalePanel extends React.Component{\n\n    constructor (props){\n        super(props);\n\n        this.state = {\n            web3: props.web3,\n            tokenDecimals: props.tokenDecimals,\n            crowdsaleInstance: null,\n            availableBalance: 0,\n            currentRate: 0,\n            viewBITNAmount: 0,\n            amountOfBITN: 0,\n            amountOfETH: 0,\n            amountOfWEI: 0\n            \n        }\n\n\n        //this.crowdsaleAddress = \"0xe982E462b094850F12AF94d21D470e21bE9D0E9C\"\n        //Mainnet\n        this.crowdsaleAddress = \"0x37Ff0201d4f574064d94844e46845BF8dDd1a9C6\"\n\n        this.handleBuy = this.handleBuy.bind(this)\n        this.handleChange = this.handleChange.bind(this)\n\n    }\n\n\n\n    componentDidMount(){\n        this.loadCrowdsaleContract().then( () => {\n            this.getCurrentRate();\n            this.getAvailableBalance();\n        });\n    }\n\n\n    async loadCrowdsaleContract(){\n        const contract = require('truffle-contract')\n        const crowdsaleContract = contract(BITNCrowdsale)\n        crowdsaleContract.setProvider(this.state.web3.currentProvider)\n    \n        \n        await crowdsaleContract.at(this.crowdsaleAddress).then(instance => {\n            console.log(\"Crowdsale contract: \" + crowdsaleContract.address)\n\n            this.setState({\n                crowdsaleInstance: instance\n            });\n\n            this.getCurrentRate();\n\n        }).catch( (err) => {\n            console.log(\"There was an error: \" + err)\n        })\n    }\n\n\n    async getCurrentRate(){\n        this.state.crowdsaleInstance.getCurrentRate.call().then( (res) => {\n            console.log(res.toString())\n            this.setState({\n                currentRate: res.toString()\n            })\n        }).catch( (err) => {\n            console.log(\"Unable to fetch the current rate\")\n        })\n    }\n\n    async getAvailableBalance(){\n        this.state.crowdsaleInstance.getAvailableToken.call().then( (res) => {\n\n            let realAmount = this.state.web3.utils.fromWei(res)\n\n            this.setState({\n                availableBalance: realAmount.toString()\n            })\n\n        });\n    }\n\n\n\n    handleBuy(event){\n        event.preventDefault();\n\n        this.state.web3.eth.getAccounts().then( (account) => {\n\n            console.log(\"Accout beneficiary: \" + account[0])\n            console.log(this.state.web3.utils.toWei(this.state.amountOfWEI, \"wei\").toString())\n            this.state.crowdsaleInstance.buyTokens(account[0], {value: this.state.web3.utils.toWei(this.state.amountOfWEI, \"wei\"), from: account[0] }).then( (res) => {\n                this.props.enqueueSnackbar(<Trans i18nKey=\"crowdsale.snackbarSuccess\" />, {\n                    variant: 'success',\n                    anchorOrigin: {\n                        vertical: 'bottom',\n                        horizontal: 'left',\n                    },\n                });\n            }).catch( (err) => {\n                this.props.enqueueSnackbar(<Trans i18nKey=\"crowdsale.snackbarFailure\" />, {\n                    variant: 'error',\n                    anchorOrigin: {\n                        vertical: 'bottom',\n                        horizontal: 'left',\n                    },\n                });\n            })\n\n\n\n        })\n\n    }\n\n    \n    handleChange(event){\n        try{\n            let integerAmount = Number(event.target.value)\n            \n            if(integerAmount > this.state.availableBalance){\n                integerAmount = this.state.availableBalance;\n                this.props.enqueueSnackbar(<Trans i18nKey=\"crowdsale.liquidityLimitReached\" />, {\n                    variant: 'info',\n                    anchorOrigin: {\n                        vertical: 'bottom',\n                        horizontal: 'left',\n                    },\n                });\n            }\n\n            console.log(this.state.currentRate)\n            let currentRate = BigNumber(this.state.currentRate)\n\n            let decimals = BigNumber(10).pow(this.state.tokenDecimals)\n\n            let rawBITNAmount = BigNumber(integerAmount).multiply(decimals)\n            let BITNAmount = this.state.web3.utils.toBN(rawBITNAmount.toString())\n\n\n            let ethResult = rawBITNAmount.divide(currentRate)\n            let WEIAmount = this.state.web3.utils.toBN(ethResult.toString())\n\n            let ETHAmount = this.state.web3.utils.fromWei(WEIAmount);\n\n            this.setState({\n                viewBITNAmount: integerAmount,\n                amountOfBITN: BITNAmount,\n                amountOfWEI: WEIAmount,\n                amountOfETH: ETHAmount\n            })\n        }catch (err){\n            console.log(err)\n        }\n    }\n\n    render(){\n\n        const { classes } = this.props;\n\n\n        return(\n            <Grow in={true}>\n            <Paper \n                elevation={4}\n                style={{ padding: 20, margin: 0, backgroundColor: '#fafafa' }}\n            >  \n                <Grid\n                    container\n                    spacing={1}\n                    direction=\"column\"\n                    justify=\"center\"\n                    alignItems=\"center\"\n                >\n                    <Grid item>\n                        <Typography variant=\"h4\"><Trans i18nKey=\"crowdsale.title\" /></Typography>\n                    </Grid>\n                    <Grid item>\n                        {this.state.crowdsaleInstance !== null && (\n                            <PriceChart crowdsaleInstance={this.state.crowdsaleInstance} />\n                        )}\n                    </Grid>\n                    <Grid item>\n                        <Typography><Trans i18nKey=\"crowdsale.liquidity\" />: {this.state.availableBalance}</Typography>\n                    </Grid>\n                    <Grid item>\n                        <Typography><Trans i18nKey=\"crowdsale.currentRate\" />: <b>{this.state.currentRate}</b></Typography>\n                    </Grid>\n                    <Grid item>\n                        <TextField\n                            value={this.state.viewBITNAmount}\n                            label={<Trans i18nKey=\"crowdsale.amountBITN\" />}\n                            onChange={this.handleChange}\n                        ></TextField>\n                    </Grid>\n                    <Grid item>\n                        <TextField\n                            value={this.state.amountOfETH.toString()}\n                            label={<Trans i18nKey=\"crowdsale.amountETH\" />}\n                        ></TextField>                        \n                    </Grid>\n                    <Grid item>\n\n                    </Grid>\n                    <Grid item>\n                        <Button \n                            onClick={this.handleBuy} \n                            variant=\"outlined\"\n                            className={classes.buyButton}>\n                                <Trans i18nKey=\"crowdsale.buyButton\" />\n                        </Button>\n                    </Grid>\n\n                </Grid>\n            </Paper>\n            </Grow>\n        )\n    }\n\n\n}\n\nCrowdsalePanel.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\n\nexport default  withSnackbar(withStyles(styles)(CrowdsalePanel));","import React, { Component } from \"react\";\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\nimport Grow from '@material-ui/core/Grow'\nimport Avatar from '@material-ui/core/Avatar'\n//import { Link } from '@material-ui/core';\nimport { Link } from 'react-router-dom'\n\nimport BigNumber from \"big-number\"\n\n\nimport { Trans } from \"react-i18next\";\n\n\nclass HomePage extends Component {\n\n    constructor(props){\n        super(props)\n        this.state = {\n            web3: props.web3,\n            tokenInstance: props.tokenInstance,\n            tokenDecimals: props.tokenDecimals,\n            accounts: props.accounts,\n            tokenBalance: 0\n        }\n    }\n\n\n\n\n    componentDidMount(){\n        this.getTokenBalance();\n    }\n\n\n\n    async getTokenBalance(){\n        await this.state.tokenInstance.balanceOf(this.state.accounts[0]).then( (response) => {\n\n            let decimals = BigNumber(10).pow(this.state.tokenDecimals)\n\n            let viewBalance = BigNumber(response.toString()).divide(decimals)\n\n            this.setState({tokenBalance: viewBalance.toString()})\n\n        }).catch( (err) =>{\n            console.log(err);\n        });\n    }\n\n\n\n\n    render(){\n\n        return (\n            <Grow in={true}>\n                <Paper \n                    elevation={4}\n                    style={{ padding: 20, margin: 0, backgroundColor: '#fafafa' }}\n                    >\n                        <Typography variant=\"h4\" component=\"h4\"><Trans i18nKey=\"HomePage.title\" /></Typography>\n\n                        <Grid\n                            container\n                            spacing={1}\n                            direction=\"column\"\n                            justify=\"center\"\n                            alignItems=\"center\"\n                            >\n                                <Grid item>\n                                    <Typography variant=\"subtitle1\" gutterBottom><Trans i18nKey=\"HomePage.subtitle\" /></Typography>\n                                </Grid>\n                                <Grid item>\n                                    <Avatar alt=\"logo\" src=\"https://www.bitcoincompany.it/wp-content/uploads/2018/07/Logo-finale-trasparente.png\" style={{width: 200, height: 200}}/>\n                                </Grid>\n                                <Grid item>\n                                    <Typography><Trans i18nKey=\"HomePage.tokenBalance\" />: <b>{this.state.tokenBalance}</b></Typography>\n                                </Grid>\n                                <Grid item>\n                                    <Typography><Trans i18nKey=\"HomePage.stakeToken\" /></Typography>\n                                    <Button \n                                        variant=\"outlined\" \n                                        component={Link} to=\"/staking-form\"\n                                        style={{color: \"#303f9f\"}}\n                                        >\n                                            <Trans i18nKey=\"HomePage.goStaking\" />\n                                        </Button>\n                                </Grid>\n                                <Grid item>\n                                    <Typography><Trans i18nKey=\"HomePage.needToken\" /></Typography>\n                                    <Button     \n                                        variant=\"outlined\" \n                                        component={Link} to=\"/crowdsale\"\n                                        style={{color: \"#303f9f\"}}\n                                        ><Trans i18nKey=\"HomePage.goCrowdsale\" />\n                                    </Button>\n                                </Grid>\n                        </Grid>\n                </Paper>\n            </Grow>\n        );\n    }\n\n}\n\nexport default HomePage;","import React, { Component } from \"react\";\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid'\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport LockIcon from '@material-ui/icons/Lock';\n\nimport PropTypes from 'prop-types';\n\n\nimport BigNumber from \"big-number\"\nimport { Trans } from \"react-i18next\";\n\n\nimport { withSnackbar } from 'notistack';\nimport { withStyles } from '@material-ui/core/styles';\n\n\nimport StakingContract from \"./contracts/Staking.json\";\nimport BitcoinCompanyNetworkTestToken from \"./contracts/BitcoinCompanyNetworkTestToken.json\"\n\nimport ApproveTransfer from \"./ApproveTransfer\"\nimport TokenContext from './TokenContext'\n\n\nconst styles = theme => ({\n    bar: {\n      color: 'orange',\n      colorDefault: 'black',\n      background : '#2E3B55'\n    },\n    stakeButton: {\n        background: '#ff551f',\n        color: \"#efeded\",\n        border: \"1 px solid\",\n        borderColor: \"rgba(43, 43, 43, 0.5)\",\n        \"&:hover, &.Mui-focusVisible\": { \n            backgroundColor: \"#f77f5ae8\",\n            color: \"#000000\",\n            border: \"1 px solid\",\n            borderColor: \"rgba(43, 43, 43, 0.5)\",\n        }\n    },\n    checkBoxReferral: {\n        \"&:checked, &.Mui-checked\": {\n            color: \"#cf5d26\"\n        }\n    }\n  });\n  \n\nclass TestingBox extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            contractInstance: props.contractInstance,\n            accounts: props.accounts,\n            tokenInstance: props.tokenInstance,\n            tokenDecimals: props.tokenDecimals,\n            stakingAddress: props.stakingAddress,\n            tokenAddress: props.tokenAddress,\n            amountToStake: 0,\n            timeToLock: 0,\n            showReferralInput: false,\n            hasReferral: false,\n            referralAddress: \"\",\n            loading: false,                      //Display the loading icon during contract request,\n            approvementConfirmed: false\n        }\n\n\n        this.web3 = props.web3\n\n        this.handleAmountChange = this.handleAmountChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleReferralCheckbox = this.handleReferralCheckbox.bind(this)\n        this.handleReferralAddress = this.handleReferralAddress.bind(this)\n    }\n\n\n    componentDidMount(){\n        this.hasReferral();\n    }\n\n\n    handleAmountChange(event){\n        let _amountToStake = Number(event.target.value)\n\n        let decimals = BigNumber(10).pow(this.state.tokenDecimals)\n\n        let result = BigNumber(_amountToStake).multiply(decimals)\n\n        let finalAmount = this.web3.utils.toBN(result.toString())\n\n        this.setState({\n            amountToStake: _amountToStake,\n            finalAmount: finalAmount\n        })\n    }\n\n\n    handleReferralCheckbox(event){\n        if(event.target.checked === true)\n            this.setState({showReferralInput: true})\n        else\n            this.setState({showReferralInput: false})\n    }\n\n    handleReferralAddress(event){\n        this.setState({referralAddress: event.target.value})\n    }\n\n\n\n\n    handleSubmit(event){\n        event.preventDefault();\n\n        if(this.state.finalAmount === null){\n            console.log(\"Invalid amount\")\n        }\n\n        this.batchTransaction();\n   \n    }\n\n\n    async getApprove(){\n        \n        if(this.state.tokenInstance == null){\n            console.log(\"The contract is not instantiated yet\")\n            return;\n        }\n\n        console.log(\"Get Approve\")\n\n        this.setState({loading: true})\n\n        await this.state.tokenInstance.approve(this.state.stakingAddress, this.state.finalAmount.toString(), {from: this.state.account}).then( (response) => {\n            console.log(response);\n            if(response === true){\n                console.log(\"Approved the management of \" + this.state.approvedAmount + \" tokens\")\n            }else{\n                console.log(\"Has NOT the approvement\")\n            }\n            this.setState({approvementConfirmed: true})\n            return response;\n        }).catch( (err) =>{\n            console.log(err);\n            this.setState({loading: false})\n        });\n\n    }\n\n\n\n\n    async activateStake(){\n\n        var _referralAddress = \"0x0000000000000000000000000000000000000001\";\n\n        if(!this.state.hasReferral && this.state.showReferralInput)\n            _referralAddress = this.state.referralAddress\n\n        this.setState({loading: true})\n\n        this.state.contractInstance.methods.stakeToken(this.state.finalAmount.toString(), _referralAddress).send({ from: this.state.account }).then( (result) => {\n            console.log(\"Correctly staked \" + this.state.amountToStake + \" tokens\")\n            this.setState({\n                loading: false,\n                approvementConfirmed:false\n            })\n\n\n\n            this.props.enqueueSnackbar(\"Correctly staked \" + this.state.amountToStake + \" tokens\", {\n                variant: 'success',\n                anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                },\n            });\n\n\n            this.hasReferral(); //Used to hide the Referral inputaddress\n\n        }).catch( (err) => {\n            console.log(\"Unable to stake; \" + err)\n            this.setState({loading: false})\n            this.props.enqueueSnackbar(\"Unable to stake\", {\n                variant: 'error',\n                anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                },\n            });\n        });\n\n    }\n\n\n    async hasReferral(){\n        /*\n        this.state.contractInstance.methods.hasReferral().call().then( (result) => {\n            this.setState({\n                hasReferral: Boolean(result)\n            })\n        }).catch( (err) => {\n            console.log(\"Unable to fetch if the account has referral\")\n        });   \n        */     \n    }\n\n\n\n    async batchTransaction(){\n\n        console.log(this.state.tokenInstance.methods)\n\n\n        try{\n            var batch = new this.web3.eth.BatchRequest();\n\n            var tokenContract = new this.web3.eth.Contract(BitcoinCompanyNetworkTestToken.abi, this.state.tokenAddress)\n            tokenContract.options.from = this.state.account\n    \n            var stakingContract = new this.web3.eth.Contract(StakingContract.abi, this.state.stakingAddress)\n    \n            //batch.add(tokenContract.methods.approve(this.state.stakingAddress, this.state.finalAmount.toString()).send({ from: this.state.accounts[0] }));\n            //batch.add(this.state.tokenInstance.approve(this.state.stakingAddress, this.state.finalAmount.toString(),{ from: this.state.accounts[0] }));\n\n            batch.add(stakingContract.methods.stakeToken(this.state.finalAmount.toString(), \"0x0000000000000000000000000000000000000001\").send({ from: this.state.accounts[0] }));\n            batch.execute();\n        }catch(err){\n            console.log(err)\n        }\n\n    }\n\n\n\n\n    render(){\n\n        const { classes } = this.props;\n\n\n        let referral_input\n\n        if (this.state.showReferralInput === true){\n            referral_input = (\n                <Grid item>\n                    <TextField\n                                label={<Trans i18nKey=\"staking_form.referralPlaceholder\" />}\n                                margin=\"normal\"\n                                variant=\"outlined\" \n                                onChange={this.handleReferralAddress}\n                                value={this.state.referralAddress}                               \n                    /> \n                </Grid>\n            );\n        }\n\n\n        if(this.state.loading){\n            return(\n                <div>\n                    <CircularProgress />\n                    {this.state.approvementConfirmed && (\n                        <Typography>Approvement granted, waiting for the contract transaction...</Typography>\n                    )}\n                </div>\n            );\n        }\n\n        return (\n            <div>\n                <Grid\n                    container\n                    spacing={1}\n                    direction=\"column\"\n                    justify=\"center\"\n                    alignItems=\"center\"\n                >\n\n                    <Grid item>\n\n                        <TokenContext.Consumer>\n                                {context => (\n                                <ApproveTransfer \n                                    tokenAddress={context.address}\n                                    tokenName={context.name}\n                                    tokenSymbol={context.symbol}\n                                    decimals={context.decimals}\n                                    tokenInstance={context.instance}\n                                    accounts={this.state.accounts}\n                                    stakingAddress={this.state.stakingAddress}\n                                    web3={this.web3}>\n                                </ApproveTransfer>\n                                )}\n                        </TokenContext.Consumer>\n\n                    </Grid>\n\n                    <Grid item>\n                        <TextField\n                                label={<Trans i18nKey=\"staking_form.textBoxHelper\" />}\n                                margin=\"normal\"\n                                variant=\"outlined\" \n                                onChange={this.handleAmountChange}\n                                value={this.state.amountToStake}  \n                                autoFocus \n                        />\n                    </Grid>\n\n                    <Grid item>\n\n                    </Grid>\n                    {!this.state.hasReferral && ( \n                    <Grid item>\n                        <Grid \n                            container\n                            direction=\"row\"\n                            justify=\"center\"\n                            alignItems=\"center\"\n                            >\n                            <Grid item>\n                                <Typography variant=\"body1\" component=\"p\"><Trans i18nKey=\"staking_form.referralCheckbox\" /></Typography>\n                            </Grid>\n                            <Grid item>\n                                <Checkbox\n                                    checked={this.state.showReferralInput}\n                                    onChange={this.handleReferralCheckbox}\n                                    checked={this.state.showReferralInput}\n                                    inputProps={{\n                                    'aria-label': 'primary checkbox',\n                                    }}\n                                    className={classes.checkBoxReferral}\n                                />\n                            </Grid>\n                        </Grid>\n\n                        {referral_input}\n                    </Grid>\n                    )}\n                    <Grid item>\n                        <Button \n                            variant=\"contained\" \n                            color=\"secondary\" \n                            onClick={this.handleSubmit}\n                            startIcon={<LockIcon />}\n                            className={classes.stakeButton}                            \n\n                            >\n                                Stake\n                            </Button>\n                    </Grid>\n                </Grid>\n            </div>\n        );\n\n    }\n\n\n}\n\n\n\nTestingBox.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\n\nexport default withSnackbar( withStyles(styles)(TestingBox));","import React, { Component } from \"react\";\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid'\nimport { Trans } from \"react-i18next\";\n\n\nimport BigNumber from \"big-number\"\n\n\nclass AccountStatus extends Component {\n\n    constructor(props){\n        super(props)\n        this.state = {\n            web3: props.web3,\n            tokenInstance: props.tokenInstance,\n            tokenDecimals: props.tokenDecimals,\n            accounts: props.accounts,\n            tokenBalance: 0\n        }\n    }\n\n\n\n\n    componentDidMount(){\n        this.getTokenBalance();\n    }\n\n\n\n    async getTokenBalance(){\n        await this.state.tokenInstance.balanceOf(this.state.accounts[0]).then( (response) => {\n            console.log(response);\n\n            let decimals = BigNumber(10).pow(this.state.tokenDecimals)\n\n            let viewBalance = BigNumber(response.toString()).divide(decimals)\n\n            this.setState({tokenBalance: viewBalance.toString()})\n\n        }).catch( (err) =>{\n            console.log(err);\n        });\n    }\n\n\n\n    render(){\n\n        return (\n            <Grid container>\n                <Grid item>\n                    <Typography><Trans i18nKey=\"HomePage.tokenBalance\" />: <b>{this.state.tokenBalance}</b></Typography>\n                </Grid>\n            </Grid>\n        );\n    }\n\n}\n\nexport default AccountStatus;","import React, { Component } from \"react\";\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Typography from '@material-ui/core/Typography';\nimport Avatar from '@material-ui/core/Avatar';\nimport Grid from '@material-ui/core/Grid'\n\n\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\n\nimport Popup from \"reactjs-popup\";\nimport Flag from 'react-world-flags'\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport { Trans } from \"react-i18next\";\n\n\nconst styles = theme => ({\n    bar: {\n      color: 'orange',\n      colorDefault: 'black',\n      background : '#2E3B55'\n    },\n    logo: {\n        margin: 10,\n    },\n    languageButton: {\n        background: '#50646e',\n        \"&:hover, &.Mui-focusVisible\": { \n            backgroundColor: \"#927b7ba6\",\n            color: \"#000000\",\n            border: \"1 px solid\",\n            borderColor: \"rgba(43, 43, 43, 0.5)\",\n        }\n    }\n  });\n  \n\nclass MainBar extends React.Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            isEnglish: true,\n            language: 'en',\n            modalOpen: false\n        }\n\n        this.changeLanguageCallback = this.props.changeLanguageCallback;\n        this.handleEnglish = this.handleEnglish.bind(this)\n        this.handleItalian = this.handleItalian.bind(this)\n        this.handleChinese = this.handleChinese.bind(this)\n        this.openModal = this.openModal.bind(this);\n        this.closeModal = this.closeModal.bind(this);\n    }\n\n    openModal() {\n        this.setState({ modalOpen: true });\n    }\n    closeModal() {\n    this.setState({ modalOpen: false });\n    }\n\n    handleEnglish(event){\n        this.setState({\n            isEnglish: true,\n            language: 'en'\n        })\n        this.changeLanguageCallback('en')\n        this.closeModal();\n\n    }\n    handleItalian(event){\n        this.setState({\n            isEnglish: false,\n            language: 'it'\n        })\n        this.changeLanguageCallback('it')\n        this.closeModal();\n\n    }\n\n    handleChinese(event){\n        this.setState({\n            isEnglish: false,\n            language: 'ch'\n        })\n        this.changeLanguageCallback('ch')   \n        this.closeModal();\n     \n    }\n\n    render(){\n\n        const { classes } = this.props;\n\n        return(\n            <AppBar position=\"static\" className={classes.bar}>\n                <Toolbar>\n                <IconButton \n                    edge=\"start\"  \n                    color=\"inherit\" \n                    aria-label=\"menu\" \n                    onClick={this.props.openMenuCallback('', true)}\n                    >\n                    <MenuIcon />\n                </IconButton>\n                <Avatar alt=\"logo\" src=\"https://www.bitcoincompany.it/wp-content/uploads/2019/08/BITN-Token-RGB-256x256.png\" className={classes.logo} />\n                <Typography variant=\"h6\" >\n                    <b><Trans i18nKey=\"Title\" /></b>\n                </Typography>\n\n                <Button \n                    variant=\"contained\"\n                    color=\"secondary\"\n                    className={classes.languageButton}\n                    onClick={this.openModal}\n                    style={{\n                        marginLeft: \"auto\",\n                        marginRight: -12\n                    }}\n                    > \n                    Language \n                </Button>\n                <Popup\n                    open={this.state.modalOpen}\n                    modal\n                    closeOnDocumentClick\n                    onClose={this.closeModal}\n\n                >\n                    <Grid \n                        container\n                        spacing={1}\n                        direction=\"column\"\n                        justify=\"center\"\n                        alignItems=\"center\">\n                            <Grid item>\n                                <Button\n                                    onClick={this.handleItalian}\n                                    > \n                                    ITA\n                                    <Flag code=\"ITA\" height=\"16\"/>\n                                </Button>\n                            </Grid>\n                            <Grid item>\n                                <Button\n                                    onClick={this.handleEnglish}\n                                    > \n                                    ENG \n                                    <Flag code=\"GBR\" height=\"16\"/>\n                                </Button>                            \n                            </Grid>\n                            <Grid item>\n                                <Button\n                                    onClick={this.handleChinese}\n                                    >\n                                    CHN \n                                    <Flag code=\"CHN\" height=\"16\"/>\n                                </Button>                            \n                            </Grid>\n\n                    </Grid>\n                </Popup>\n\n                </Toolbar>\n            </AppBar>\n        );\n    }\n\n}\n\nMainBar.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\n\n\n\nexport default withStyles(styles)(MainBar);\n\n/*\n\n\n                {this.state.isEnglish ? (\n                    <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        className={classes.languageButton}\n                        onClick={this.handleItalian}\n                        style={{\n                            marginLeft: \"auto\",\n                            marginRight: -12\n                        }}\n                        >\n                        ITA\n                    </Button>\n                ) : (\n                    <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        className={classes.languageButton}\n                        onClick={this.handleEnglish}\n                        style={{\n                            marginLeft: \"auto\",\n                            marginRight: -12\n                        }}\n                        >\n                        ENG\n                    </Button>                   \n                )}\n\n\n*/","import React, { Component } from \"react\";\n\n\nimport Typography from '@material-ui/core/Typography';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid'\nimport PieChart from 'react-minimal-pie-chart';\n\n\nimport BigNumber from 'big-number'\n\nimport { Trans } from \"react-i18next\";\n\nclass MachineState extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            contractInterface: props.contractInterface,\n            tokenDecimals: props.tokenDecimals,\n            machineState: 0,\n            statePercentpercentState: 0,\n            loading: false\n        }\n    }\n\n    componentDidMount(){\n        this.getMachineState();\n    }\n\n\n    async getMachineState(){\n        this.setState({loading: true});\n\n        await this.state.contractInterface.methods.getMachineState().call().then( (rawResult) => {\n\n            let decimals = BigNumber(10).power(this.state.tokenDecimals);\n            let maxSupply = BigNumber(50000000);\n\n            let normalAmount = BigNumber(rawResult).divide(decimals)\n            let realAmount = normalAmount.toString();\n\n            let statePercent = normalAmount.multiply(100).div(maxSupply)\n            console.log(statePercent.toString())\n\n            console.log(\"Machine state : \" + realAmount);\n            this.setState({\n                machineState: realAmount,\n                statePercent: statePercent.toString(),\n                loading: false\n            });\n\n        }).catch( (err) => {\n            console.log(err);\n            this.setState({loading: false})\n        });  \n    \n    }\n\n\n\n    render(){\n\n        return(\n            <div>\n                {this.state.loading ? (\n                    <div>\n                        <Typography><Trans i18nKey=\"sideMenu.loadingMachineState\" />...</Typography>\n                        <CircularProgress />\n                    </div>\n                ) : (\n                        <Grid \n                            contaier\n                            direction=\"column\"\n                            justify=\"space-around\"\n                            alignItems=\"stretch\">\n                            <Grid item>\n                                <Typography><Trans i18nKey=\"sideMenu.machineState\" />: {this.state.machineState}</Typography>\n                            </Grid>\n                            <Grid item>\n                                <Grid\n                                    container\n                                    direction=\"column\"\n                                    spacing={2}\n                                    alignItems=\"center\"\n                                >\n                                    <Grid item>\n                                        <Typography>{this.state.statePercent}% <Trans i18nKey=\"sideMenu.machineAvailableAmount\" /></Typography>         \n                                    </Grid>\n                                    <Grid item>\n                                        <PieChart\n                                            style={{width: \"6em\"}}\n                                            data={[\n                                                { title: 'Available', value: Number(this.state.statePercent), color: '#E38627' },\n                                                { title: 'Supplied', value: 100-Number(this.state.statePercent), color: '#A28127' },\n                                            ]}\n                                            />\n                                    </Grid>\n                                </Grid>\n\n                       \n                            </Grid>\n                        </Grid>\n                )}\n            </div>\n        )\n    }\n\n\n\n\n}\n\n\nexport default MachineState;\n","import React, { Component } from \"react\";\n\nimport StakingPanel from \"./StakingPanel\"\nimport ReferralBox from \"./ReferralBox\"\nimport TokenContext from './TokenContext'\nimport StakingLister from './StakingLister'\nimport CrowdsalePanel from './CrowdsalePanel'\nimport HomePage from './HomePage'\nimport TestingBox from './TestingBox'\nimport AccountStatus from \"./AccountStatus\"\n\nimport MainBar from \"./MainBar\"\nimport MachineState from './MachineState'\nimport ApproveTransfer from './ApproveTransfer'\n\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\n\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid'\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport Avatar from '@material-ui/core/Avatar'\n\nimport HowToVoteIcon from '@material-ui/icons/HowToVote';\nimport CardGiftcardIcon from '@material-ui/icons/CardGiftcard';\nimport FormatListBulletedIcon from '@material-ui/icons/FormatListBulleted';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport HomeIcon from '@material-ui/icons/Home';\n\nimport { Trans } from \"react-i18next\";\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\n\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link\n  } from \"react-router-dom\";\n\n\nconst styles = theme => ({\n    appBackgroud: {\n        background: 'linear-gradient(45deg, #8c8281 10%, #ebd7d5 90%)',\n        borderRadius: 3,\n        border: 0,\n        color: 'white',\n        //height: 48,\n        padding: '0 30px',\n        boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n    },\n  });\n\n/**\n * @brief Component responsible of managing the contract User's feature\n * \n * Interface for the contract's user feature, like depositing in the pot.\n * \n * It should be displayed only if the fetched account is the user of the contract\n */\nclass UserBox extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            web3: props.web3,\n            stakingInstance: props.contractInstance,\n            accounts: props.accounts,\n            tokenAddress: null, \n            stakingAddress: props.stakingAddress,\n            menuOpened: false,\n        }\n        \n        this.toggleDrawer = this.toggleDrawer.bind(this)\n\n    }\n\n\n\n    \n\n    toggleDrawer = (view, open) => event => {\n            if (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n                return;\n              }\n\n              this.setView(view, open)\n    }\n\n\n\n\n    componentDidMount(){\n        this.getTokenAddress();\n    }\n\n\n    setView(view, open){\n        let _view\n\n        if(view === null){\n            _view = this.state.currentView\n        }else{\n            _view = view\n        }\n        \n\n        this.setState({ \n            menuOpened: open,\n            currentView: _view\n        });\n    }\n\n    async getTokenAddress() {\n        console.log(\"Asking for token address\")\n        const response = await this.state.stakingInstance.methods.getTokenAddress().call();\n        console.log(\"Fetched token address: \" + response);\n        this.setState({tokenAddress: response});\n        return response;\n    };\n\n\n\n       \n\n\n\n    render(){\n\n        const { classes } = this.props;\n\n\n        return(\n            <div>\n                <MainBar\n                    openMenuCallback={this.toggleDrawer}\n                    changeLanguageCallback={this.props.changeLanguageCallback}\n                ></MainBar>\n                <Container maxWidth=\"md\" style={{padding: 6}}>\n                    <SwipeableDrawer\n                        open={this.state.menuOpened}\n                        onClose={this.toggleDrawer('', false)}\n                        onOpen={this.toggleDrawer('', true)}\n                    >\n                        <List>\n                            <ListItem >\n                                <Avatar alt=\"logo\" src=\"https://www.bitcoincompany.it/wp-content/uploads/2019/08/BITN-Token-RGB-256x256.png\" style={{margin:10}} />\n                                <ListItemText primary={<Trans i18nKey=\"sideMenu.menuTitle\" />} />\n                            </ListItem>\n                            <ListItem button component={Link} to=\"/\" onClick={this.toggleDrawer('', false)}>\n                                <ListItemIcon><HomeIcon /></ListItemIcon>\n                                <ListItemText primary={<Trans i18nKey=\"sideMenu.homeEntry\" />} />\n                            </ListItem>\n                            <ListItem button component={Link} to=\"/staking-form\" onClick={this.toggleDrawer('', false)}>\n                                <ListItemIcon><HowToVoteIcon /></ListItemIcon>\n                                <ListItemText primary={<Trans i18nKey=\"sideMenu.stakingForm\" />} />\n                            </ListItem>\n                            <ListItem button component={Link} to=\"/stake-list\" onClick={this.toggleDrawer('', false)}>\n                                <ListItemIcon><FormatListBulletedIcon /></ListItemIcon>\n                                <ListItemText primary={<Trans i18nKey=\"sideMenu.stakeList\" />} />\n                            </ListItem>\n                            <ListItem button component={Link} to=\"/referrals\" onClick={this.toggleDrawer('', false)}>\n                                <ListItemIcon><CardGiftcardIcon /></ListItemIcon>\n                                <ListItemText primary={<Trans i18nKey=\"sideMenu.referrals\" />} />\n                            </ListItem>\n                            <Divider />\n                            <ListItem button component={Link} to=\"/crowdsale\" onClick={this.toggleDrawer('', false)}>\n                                <ListItemIcon><ShoppingCartIcon /></ListItemIcon>\n                                <ListItemText primary={<Trans i18nKey=\"sideMenu.crowdsaleEntry\" />} />\n                            </ListItem>\n                            <Divider />\n                            <ListItem>\n                                <TokenContext.Consumer>\n                                    {context => (\n                                        <MachineState\n                                            contractInterface={this.state.stakingInstance}\n                                            tokenDecimals={context.decimals}\n                                        />\n                                    )}\n                                    </TokenContext.Consumer>\n                            </ListItem>\n                            <Divider />\n                            <ListItem>\n                            <TokenContext.Consumer>\n                                    {context => (\n                                        <AccountStatus\n                                            web3={this.state.web3}\n                                            tokenInstance={context.instance}\n                                            tokenDecimals={context.decimals}\n                                            accounts={this.state.accounts}\n                                        />\n                                    )}\n                                    </TokenContext.Consumer>\n                            </ListItem>\n                            <Divider />\n                            <ListItem button onClick={this.toggleDrawer(null, false)}>\n                                <ListItemIcon><InboxIcon /></ListItemIcon>\n                                <ListItemText primary={<Trans i18nKey=\"sideMenu.closeEntry\" />} />\n                            </ListItem>\n                        </List>\n                    </SwipeableDrawer>\n                    {this.state.tokenAddress !== null ? (\n                        <Grid\n                        container\n                        spacing={5}\n                        direction=\"column\"\n                        justify=\"center\"\n                        alignItems=\"center\"\n                        >\n\n                            <Switch>\n                                <Route path=\"/staking-form\">\n                                    <TokenContext.Consumer>\n                                        {context => (\n                                            <div>\n                                                <Grid item>\n                                                    <ApproveTransfer \n                                                        tokenAddress={context.address}\n                                                        tokenName={context.name}\n                                                        tokenSymbol={context.symbol}\n                                                        decimals={context.decimals}\n                                                        tokenInstance={context.instance}\n                                                        accounts={this.state.accounts}\n                                                        stakingAddress={this.state.stakingAddress}\n                                                        web3={this.state.web3}>\n                                                    </ApproveTransfer>\n                                                </Grid>\n                                                <Grid item>\n                                                    <StakingPanel\n                                                        contractInterface={this.state.stakingInstance} \n                                                        accounts={this.state.accounts}\n                                                        \n\n                                                        stakingAddress={this.state.stakingAddress}\n                                                        web3={this.state.web3}\n                                                        >\n                                                    </StakingPanel>\n                                                </Grid>\n                                            </div>\n                                        )}\n                                    </TokenContext.Consumer>\n                                </Route>\n                                <Route path=\"/testing\">\n                                    <TokenContext.Consumer>\n                                        {context => (\n                                            <Grid item>\n\n                                            <TestingBox\n                                                contractInterface={this.state.stakingInstance} \n                                                accounts={this.state.accounts}\n                                                tokenAddress={context.address}\n                                                tokenDecimals={context.decimals}\n                                                tokenInstance={context.instance}\n\n                                                stakingAddress={this.state.stakingAddress}\n                                                web3={this.state.web3}\n                                                >\n                                            </TestingBox>\n\n                                            </Grid>\n                                        )}\n                                    </TokenContext.Consumer>\n                                </Route>\n                                <Route path=\"/referrals\">\n                                    <TokenContext.Consumer>\n                                        {context => (\n                                           <Grid item>\n\n                                            <ReferralBox \n                                                contractInstance={this.state.stakingInstance} \n                                                account={this.state.accounts[0]}\n                                                tokenDecimals={context.decimals}>\n                                            </ReferralBox>\n                                           </Grid>\n                                        )}\n                                    </TokenContext.Consumer>\n                                </Route>\n                                <Route path=\"/stake-list\">\n                                    <TokenContext.Consumer>\n                                    {context => (\n                                        <Grid item>\n                                        <StakingLister \n                                            contractInstance={this.state.stakingInstance} \n                                            accounts={this.state.accounts}\n                                            tokenDecimals={context.decimals}>\n                                        </StakingLister>\n                                        </Grid>\n                                    )}\n                                    </TokenContext.Consumer>\n                                </Route>\n                                <Route path=\"/crowdsale\">\n                                    <TokenContext.Consumer>\n                                    {context => (\n                                        <Grid item>\n                                        <CrowdsalePanel\n                                            web3={this.state.web3}\n                                            tokenDecimals={context.decimals}\n                                        ></CrowdsalePanel>\n                                        </Grid>\n                                    )}\n                                    </TokenContext.Consumer>\n                                </Route>\n                                <Route path=\"/\">\n                                    <TokenContext.Consumer>\n                                        {context => (\n                                            <Grid item>\n                                            <HomePage\n                                                web3={this.state.web3}\n                                                tokenInstance={context.instance}\n                                                tokenDecimals={context.decimals}\n                                                accounts={this.state.accounts}\n\n                                            />\n                                            </Grid>\n                                        )}\n                                    </TokenContext.Consumer>\n                                </Route>\n                            </Switch>\n                        </Grid>\n                ) : (\n                    <p>Loading token contract...</p>\n                )}\n                </Container>\n            </div>\n        );\n    }\n\n\n\n\n}\n\n\n\nUserBox.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\n\nexport default withStyles(styles)(UserBox);","import React, { Component } from \"react\";\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid'\n\n\nclass Web3ErrorPage extends Component {\n\n    constructor(props){\n\n    }\n\n\n    render(){\n\n        return (\n            <Grid container>\n                <Grid item>\n                    <Typography>Your browser currently not support this Dapp</Typography>\n                </Grid>\n                <Grid item>\n                    <Typography>Desktop Browser: Parity, Mist, Brave</Typography>\n                </Grid>\n                <Grid item>\n                    <Typography>Android Browser: Metamask, imToken, Trust Wallet</Typography>\n                </Grid>\n                <Grid item>\n                    <Typography>iOS Browser: imToken, Metamask</Typography>\n                </Grid>\n            </Grid>\n        );\n    }\n\n}\n\nexport default Web3ErrorPage;","import React, { Component } from \"react\";\nimport StakingContract from \"./contracts/Staking.json\";\nimport BitcoinCompanyNetworkTestToken from \"./contracts/BitcoinCompanyNetworkTestToken.json\"\n\nimport getWeb3 from \"./utils/getWeb3\";\n\nimport \"./App.css\";\n\nimport OwnerPanel from \"./OwnerPanel\"\nimport UserBox from \"./UserBox\"\nimport TokenContext from './TokenContext'\nimport TokenSetup from \"./TokenSetup\"\nimport Web3ErrorPage from \"./Web3ErrorPage\"\n\nimport 'typeface-roboto';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Avatar from '@material-ui/core/Avatar'\nimport Grid from '@material-ui/core/Grid'\n\nimport Box from '@material-ui/core/Box';\n\n\nimport { translate, Trans } from \"react-i18next\";\n\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\n\n\nconst styles = theme => ({\n  appBackgroud: {\n      background: 'linear-gradient(#8c8281 30%, #FFFFFF)',\n      borderRadius: 3,\n      border: 0,\n      color: 'white',\n  },\n});\n\n\n\nclass App extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = { \n      web3: null,   //TODO Remove web3 from the state\n      accounts: null, \n      StakingInstance: null, \n      StakingAddress: null,\n      isOwner: false,\n      approved: false,\n      isTokenSet: false,\n      tokenAddress: null, \n      tokenInstance: null ,\n      tokenDecimals: null,\n      tokenName: null,\n      tokenSymbol: null,\n      tokenLoaded: false,\n      error: false,\n      menuOpened: false,\n      menuCallback: null,\n      language: 'en',\n      callbackLanguage: this.props.i18n.changeLanguage,\n      web3Unavailable: false    //Used when a browser that does not support web3 is detected\n    };\n\n\n\n\n    //this.stakingAddress = \"0xC89Ce4735882C9F0f0FE26686c53074E09B0D550\"\n    //Mainnet\n    this.stakingAddress = \"0x6d9F3Cd627a5c9a65b3a5A6C94F061ef6cA43002\"\n    //Rinkeby\n    //this.stakingAddress = \"0xbE186FbAC291c332342F2463338789Ffe2095fB5\"\n\n\n    this.openMenuCallback = this.openMenuCallback.bind(this)\n    this.languageChanged = this.languageChanged.bind(this)\n\n  }\n\n\n\n\n  componentDidMount = async () => {\n\n    try {\n      // Get network provider and web3 instance.\n      const _web3 = await getWeb3();\n\n      // Use web3 to get the user's accounts.\n      const _accounts = await _web3.eth.getAccounts();\n\n      // Get the contract instance.\n      const networkId = await _web3.eth.net.getId();\n      const deployedNetwork = StakingContract.networks[networkId];\n\n      if(deployedNetwork === null){\n        alert(\"Unable to detect the staking contract\")\n      }\n\n\n      _web3.eth.defaultAccount = _accounts[0];\n      //console.log(\"Staking Address: \" + deployedNetwork.address)\n\n      const instance = new _web3.eth.Contract(\n        StakingContract.abi,\n        this.stakingAddress,\n      );\n\n\n      // Set web3, accounts, and contract to the state, and then proceed with an\n      // example of interacting with the contract's methods.\n      this.setState({\n         web3: _web3, \n         accounts: _accounts, \n         StakingInstance: instance, \n         StakingAddress: this.stakingAddress,\n        }, () => {\n          this.handleContractRole();\n\n          this.checkToken().then( () => {\n            if(this.state.isTokenSet === true){\n              console.log(\"The token is setted, fetching the address...\")\n\n              this.getTokenAddress().then( (res) => {\n\n                if(this.state.tokenAddress !== null){\n                  console.log(\"Fetching the token info\")\n                  this.loadTokenInfo().then( () => {\n                  });\n                }\n              });\n            }\n          })\n      });\n    \n    } catch (error) {\n      // Catch any errors for any of the above operations.\n      alert(\n        `Failed to load web3, accounts, or contract. Check console for details.`,\n      );\n      alert(error)\n      console.error(error);\n    }\n  };\n\n\n  handleContractRole = async() => {\n    console.log(\"Checking which role has the client wallet...\")\n\n    this.state.StakingInstance.methods.isOwner().call().then( (response) => {\n      \n      if( response === true){\n        console.log(\"The current account is the owner of the contract\")\n        this.setState({ isOwner: true })\n      }else{\n        console.log(\"The current account is NOT the owner of the contract\")\n        this.setState({ isOwner: false })        \n      }\n\n    });\n\n\n  }\n\n\n\n  checkToken = async () => {\n    console.log(\"Checking if the token address is already setted...\")\n    // Get the value from the contract to prove it worked.\n    await this.state.StakingInstance.methods.isTokenSet().call().then( (response) => {\n      console.log(\"Response: \" + response)\n      if(response === true){\n        this.setState({\n          isTokenSet: true\n        });\n        return true;\n      }else{\n        this.setState({\n          isTokenSet: false\n        });        \n        return false;\n      }\n    }).catch( (error) => {\n      console.log(\"Unable to check if the token is set\")\n      return false;\n    });\n  };\n\n\n  getTokenAddress = async () => {\n    const address = await this.state.StakingInstance.methods.getTokenAddress().call();\n    console.log(\"Fetched token address: \" + address);\n    \n    \n    if(typeof address === 'undefined'){\n      console.log(\"Unable to load the correct address\")\n      this.setState({error: true});\n      return false;\n    }\n\n\n    this.setState({tokenAddress: address});\n    return true;\n\n  };\n\n  loadTokenInfo = async () => {\n\n    //TODO Create a web3 instance from the token Address and call ERC20 functions\n    //Then save it into the context\n\n    const contract = require('truffle-contract')\n    const tokenContract = contract(BitcoinCompanyNetworkTestToken)\n    tokenContract.setProvider(this.state.web3.currentProvider)\n\n    \n    await tokenContract.at(this.state.tokenAddress) //Address of the contract, obtained from Etherscan\n    .then(instance => {\n      var tokenContractInstance = instance\n      this.setState({tokenInstance: tokenContractInstance}, async () =>{ \n\n        this.state.tokenInstance.decimals.call().then( (res) => {\n          console.log(\"Token Decimals : \" + res)\n          this.setState({tokenDecimals: Number(res)}, () => {\n\n\n            this.state.tokenInstance.name.call().then( (name) => {\n              console.log(\"Token Name : \" + name)\n              this.setState({tokenName:name}, () => {\n\n                this.state.tokenInstance.symbol.call().then( (symbol) => {\n                  console.log(\"Token Symbol : \" + symbol)\n                  this.setState({tokenSymbol: symbol}, () => {\n\n                    this.isTokenLoaded()\n                  });\n                })\n\n\n              });\n            })\n\n          });\n        })\n\n\n\n\n\n      });\n      console.log(\"Token Contract - Contract Instantiated from \" + this.state.tokenAddress);\n\n    }).catch( (err) => {\n      console.log(\"Unable ot load the Token Address Contract\")\n    })\n\n\n  }\n\n\n  isTokenLoaded(){\n    if(\n        this.state.tokenDecimals !== null &&\n        this.state.tokenName !== null &&\n        this.state.tokenSymbol !== null &&\n        this.state.tokenInstance !== null\n      ){\n        console.log(\"Token Loaded\")\n        this.setState({tokenLoaded: true})\n      }\n  }\n\n\n  openMenuCallback(){\n    this.setState({menuOpened: true})\n  }\n\n\n  languageChanged(_language){\n    this.setState({\n      language: _language\n    })\n    this.props.i18n.changeLanguage(_language)\n  }\n\n\n  render() {\n\n    const { classes } = this.props;\n\n\n\n    //Handle browser that does not support web3\n    if(this.state.web3Unavailable){\n      return(\n        <Web3ErrorPage />\n      );\n    }\n\n\n\n    if (!this.state.web3) {\n      return <div>Loading Web3, accounts, and contract...</div>;\n    }\n\n    let body;\n\n\n    if(this.state.isOwner){\n\n      if(this.state.isTokenSet && this.state.tokenLoaded){\n        body = (\n          <div>\n            <Typography variant=\"h4\" component=\"h2\" gutterBottom>Owner Panel</Typography>\n                       \n            <TokenContext.Provider\n                    value={{\n                      accounts: this.state.accounts,\n                      address: this.state.tokenAddress,\n                      instance: this.state.tokenInstance,\n                      decimals: this.state.tokenDecimals,\n                      name: this.state.tokenName,\n                      symbol: this.state.tokenSymbol,\n                      stakingInstance: this.state.StakingInstance,\n                      stakingAddress: this.state.StakingAddress,\n                      web3: this.state.web3\n                    }}\n              >\n                <OwnerPanel \n                  accounts={this.state.accounts} \n                  stakingInstance={this.state.StakingInstance}\n                  stakingAddress={this.state.StakingAddress}\n                  web3={this.state.web3}>\n                </OwnerPanel>\n            </TokenContext.Provider>\n          </div>\n        );\n      }else{\n        body = (\n          <TokenSetup \n            stakingInstance={this.state.StakingInstance} \n            account={this.state.accounts[0]}\n            callbackSetted={this.checkToken}>\n          </TokenSetup>\n        )\n      }\n\n    }else{\n\n      if(this.state.tokenLoaded && this.state.tokenLoaded){\n\n        body = (\n          <Router>\n            <TokenContext.Provider\n              value={{\n                web3: this.state.web3,\n                accounts: this.state.accounts,\n                address: this.state.tokenAddress,\n                instance: this.state.tokenInstance,\n                decimals: this.state.tokenDecimals,\n                name: this.state.tokenName,\n                symbol: this.state.tokenSymbol,\n                stakingInstance: this.state.StakingInstance,\n                stakingAddress: this.state.StakingAddress,\n              }}\n            >\n                <UserBox \n                  accounts={this.state.accounts} \n                  contractInstance={this.state.StakingInstance}\n                  stakingAddress={this.state.StakingAddress}\n                  tokenAddress={this.state.tokenAddress}\n                  web3={this.state.web3}\n                  changeLanguageCallback={this.languageChanged}\n                  >\n                </UserBox>\n            </TokenContext.Provider>\n          </Router>\n        );\n      }else{\n        body = (\n          <div>\n            <Container maxWidth=\"sm\">\n              <Grid container\n                direction=\"column\"\n                justify=\"center\"\n                alignItems=\"center\"\n              >\n                <Grid item>\n                  <Typography variant=\"h4\" component=\"h2\" gutterBottom>BITN Staking Machine</Typography>\n                </Grid>\n                <Grid item>\n                  <Avatar alt=\"logo\" src=\"https://www.bitcoincompany.it/wp-content/uploads/2018/07/Logo-finale-trasparente.png\" style={{width: 200, height: 200}}/>\n                </Grid>\n                <Grid item>\n                  <Typography variant=\"subtitle1\" component=\"p\" color=\"textSecondary\" gutterBottom> Loading user panel...</Typography>\n                  <CircularProgress></CircularProgress>\n                </Grid>\n              </Grid>\n            </Container>\n\n          </div>\n        );        \n      }\n\n\n\n    }\n\n\n\n\n\n    return (\n      <div className=\"App\">\n        <Box className={classes.appBackgroud}>\n          {body}\n        </Box>\n      </div>\n    );\n  }\n}\n\n\n\nApp.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\n\n\nexport default withStyles(styles)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\n\ni18n.use(LanguageDetector).init({\n  // we init with resources\n  resources: {\n    en: {\n      translations: {\n        Title: \"BITN Staking Machine  \",\n        staking_form: {\n          title: \"Staking Form\",\n          subtitle: \"In this section you could stake your BITN token.\",\n          referralCheckbox: \"Have a referral?\",\n          textBoxHelper: \"Amount to stake\",\n          helpButton: \"Help needed?\",\n          referralPlaceholder: \"Referral Address\",\n          errorUndefinedStake: \"Set the amount to stake first\",\n          errorInsufficientFunds: \"Insufficient funds\",\n          errorNoAllowance: \"Set the allowance first\",\n          unableToStake: \"Unable to stake\",\n          correctStake: \"Successful stake\",\n          stakingPending: \"Request sent, check the transaction status\"\n\n\n        },\n        sideMenu: {\n          menuTitle: \"Staking Machine\",\n          stakingForm: \"Staking Form\",\n          stakeList: \"Stake List\",\n          referrals: \"Referrals Panel\",\n          machineState: \"Machine State\",\n          machineAvailableAmount: \" of token still available\",\n          loadingMachineState: \"Loading machine state\",\n          crowdsaleEntry: \"Crowdsale\",\n          homeEntry: \"Home\",\n          closeEntry: \"Close\"\n\n        },\n        staking_list: {\n          title: \"Staking List\",\n          noStakePresent: \"No stake present\",\n          showArchived: \"Show Archived\"\n        },\n        account_info: {\n          totalAmount: \"Total stake amount\",\n          numberOfActiveStake: \"Number of active stake\",\n          noReferralPresent: \"Referral\"\n        },\n        referral_panel: {\n          referralTitle: \"Referral\",\n          myReferralLabel: \"Your referral address is\",\n          availableReward: \"Available Reward\",\n          totalAvailavelReward: \"Total Reward available\",\n          withdrawAll: \"Withdraw All\",\n          noReferral: \"No referral found\",\n          copyButton: \"Copy\",\n          copyMessage: \"Referral code copied into clipboard\"\n        },\n        stake_detail: {\n          previewText: \"Amount staked\",\n          amountStaked: \"Amount staked\",\n          periodElasped: \"Period elasped\",\n          penalty: \"Withdraw penalty\",\n          gain: \"Gain\",\n          withdrawed: \"Withdrawed\",\n          creationTime: \"Creation Time\",\n          availableRewards: \"Available reward\",\n          withdrawReward: \"Withdraw Rewards\",\n          withdraw: \"Withdraw\"\n        },\n        withdrawBox: {\n          withdrawLabel: \"Instead if you want to withdraw and terminate you stake, click the button below\",\n          tokenSuccesWithdrawMsg: \"Token successfullu withdrawed\",\n          tokenFailedWithdrawMsg: \"Unable to withdraw tokens\",\n        },\n        help: {\n          p1: \"Smart contract manages ERC20 tokens differently compared to Ether. In fact if some ERC20 token is sent to the contract, it is not able to understand where these token comes from.\",\n          p2: \"For this reason, you have to set the approvement before each deposit on this app using the related panel\",\n          p3: \"\",\n          linkText: \"More Info\",\n          link: \"https://tokenallowance.io/index.html\"\n        },\n        crowdsale: {\n          title: \"Crowdsale Panel\",\n          liquidity: \"Total Liquidity\", \n          currentRate: \"Current exchange rate\",\n          amountBITN: \"Amounf of BITN\",\n          amountETH: \"Amount of ETH\",\n          buyButton: \"Buy\",\n          snackbarSuccess: \"Successful purchase\",\n          snackbarFailure: \"Error on purchase\",\n          liquidityLimitReached: \"Liquidity limit reached\"\n        },\n        approvementPanel: {\n          title: \"Approvement\",\n          approvementStatus: \"Already has the approvement to manage\",\n          editExternalButton: \"Edit the Amount\",\n          textLabel: \"Amount to approve\",\n          editInternalButton: \"Edit the amount to approve\",\n          closeButton: \"Close\"\n        },\n        HomePage: {\n          title: \"Welcome\",\n          subtitle: \"Start using your the BITN staking machine now\",\n          tokenBalance: \"Token balance\",\n          stakeToken: \"Stake your token now!!\",\n          goStaking: \"Go to the staking page\",\n          needToken: \"Need some token?\",\n          goCrowdsale: \"Go to the crowdsale page\"\n        }\n      }\n    },\n    it: {\n        translations: {\n          Title: \"BITN Macchina da Staking\",\n          staking_form: {\n            title: \"Modulo Staking\",\n            subtitle: \"In questa sezione potrai fare stake dei tuoi BITN token.\",\n            referralCheckbox: \"Hai un referral?\",\n            textBoxHelper: \"Importo di stake\",\n            helpButton: \"Serve aiuto?\",\n            referralPlaceholder: \"Indirizzo referral\",\n            errorUndefinedStake: \"Inserisci il numero di token\",\n            errorInsufficientFunds: \"Fondi insufficienti\",\n            errorNoAllowance: \"Approvazione non abilitata\",\n            unableToStake: \"Impossibile effettuare lo stake\",\n            correctStake: \"Stake effetuato con successo\",\n            stakingPending: \"Richiesta inviata, controllare lo stato della transazione\"\n\n          },\n          sideMenu: {\n            menuTitle: \"Staking Machine\",\n            stakingForm: \"Modulo Staking\",\n            stakeList: \"Lista Stake\",\n            referrals: \"Pannello Referral\",\n            machineState: \"Stato Contratto\",\n            machineAvailableAmount: \" token ancora disponibili\",\n            loadingMachineState: \"Caricando stato macchina\",\n            crowdsaleEntry: \"Crowdsale\",\n            homeEntry: \"Home\",\n            closeEntry: \"Chiudi\"\n\n          },\n          staking_list: {\n            title: \"Lista Stake\",\n            noStakePresent: \"Nessuno stake presente\",\n            showArchived: \"Mostra archiviati\"\n          },\n          account_info: {\n            totalAmount: \"Ammontare totale degli stake\",\n            numberOfActiveStake: \"Numero stake attivi\",\n            noReferralPresent: \"Referral\"\n          },\n          referral_panel: {\n            referralTitle: \"Referral\",\n            myReferralLabel: \"Il tuo indirizzo di referral è\",\n            availableReward: \"Premio disponibile\",\n            totalAvailavelReward: \"Premio totale\",\n            withdrawAll: \"Preleva premio\",\n            noReferral: \"Nessun referral trovato\",\n            copyButton: \"Copia\",\n            copyMessage: \"Referral copiato negli appunti\"\n          },\n          stake_detail: {\n            previewText: \"Token in stake\",\n            amountStaked: \"Token in stake\",\n            periodElasped: \"Periodi trascorsi\",\n            penalty: \"Penalità al prelievo\",\n            gain: \"Guadagno\",\n            withdrawed: \"Prelevato\",\n            creationTime: \"Data creazione\",\n            availableRewards: \"Premio disponibile al ritiro\",\n            withdrawReward: \"Preleva premio\",\n            withdraw: \"Preleva\"\n          },\n          withdrawBox: {\n            withdrawLabel: \"Se invece vuoi ritirare lo stake, clicca il bottone qui sotto\",\n            tokenSuccesWithdrawMsg: \"Token prelevati con successo\",\n            tokenFailedWithdrawMsg: \"Impossibile prelevare token\",\n          },\n          help: {\n            p1: \"Gli smart-contract gestiscono i token ERC20 in maniera diversa dagli Ether. Infatti, mentre normalmente quando si inviano ETH ad uno smart-contract esso è in grado capire autonomamente da chi provengono, per gli ERC20 non è così.\",\n            p2: \"Per questo motivo, prima di interagire con uno smart-contract che utilizza token ERC20, è necessario dare una sorta di \\\"Autorizzazione\\\". In pratica si autorizza lo smart-contract ad utilizzare una quantità specificata dei token dell'utente.\",\n            p3: \"In questo modo è possibile effettuare in modo sicuro transazione con i token ERC20.\",\n            linkText: \"Maggiori informazioni\",\n            link: \"https://tokenallowance.io/it/index.html\"\n          },\n          crowdsale: {\n            title: \"Pannello Vendita\",\n            liquidity: \"Liquidità Totale\", \n            currentRate: \"Cambio attuale\",\n            amountBITN: \"Ammontare di BITN\",\n            amountETH: \"Ammontare di  ETH\",\n            buyButton: \"Acquista\",\n            snackbarSuccess: \"Token acquistati con successo\",\n            snackbarFailure: \"Errore durante l'acquisto\",\n            liquidityLimitReached: \"Limite di liquidità raggiunto\"\n          },\n          approvementPanel: {\n            title: \"Autorizzazione\",\n            approvementStatus: \"Hai già l'approvazione per gestire\",\n            editExternalButton: \"Modifica la quantità\",\n            textLabel: \"Quantità da approvare\",\n            editInternalButton: \"Modifica la quantità da approvare\",\n            closeButton: \"Chiudi\"\n          },\n          HomePage: {\n            title: \"Benvenuto\",\n            subtitle: \"Inizia subito ad usare la BITN Staking Machine\",\n            tokenBalance: \"Token Disponibili\",\n            stakeToken: \"Metti i tuoi token in stake ora!!\",\n            goStaking: \"Vai alla pagina di staking\",\n            needToken: \"Hai bisogno dei BITN token?\",\n            goCrowdsale: \"Vai alla pagina di crowdsale\"\n          }\n        }\n      },\n    ch: {\n      translations: {\n        Title: \"智能 BITN 合约\",\n        staking_form: {\n          title: \"参与\",\n          subtitle: \"在此，把BITN令牌启动智能合约.\",\n          referralCheckbox: \"您有邀请号码?\",\n          textBoxHelper: \"存放数量\",\n          helpButton: \"帮助?\",\n          referralPlaceholder: \"邀请号\",\n          errorUndefinedStake: \"输入令牌数量\",\n          errorInsufficientFunds: \"资金不足\",\n          errorNoAllowance: \"批准未启用\",\n          unableToStake: \"无法抵押\",\n          correctStake: \"成功开启智能合约\",\n          stakingPending: \"请求已发送，请检查交易状态\"\n\n        },\n        sideMenu: {\n          menuTitle: \"利息存款\",\n          stakingForm: \"参与\",\n          stakeList: \"权益清单\",\n          referrals: \"推荐面板\",\n          machineState: \"合约状态\",\n          machineAvailableAmount: \"令牌仍然可用\",\n          loadingMachineState: \"装载机状态\",\n          crowdsaleEntry: \"购买\",\n          homeEntry: \"主页\",\n          closeEntry: \"退回主页\"\n        },\n        staking_list: {\n          title: \"权益清单\",\n          noStakePresent: \"没有合约\",\n          showArchived: \"显示已存档\"\n        },\n        account_info: {\n          totalAmount: \"股份总额\",\n          numberOfActiveStake: \"活跃合约​​数量\",\n          noReferralPresent: \"推荐\"\n        },\n        referral_panel: {\n          referralTitle: \"社区推广\",\n          myReferralLabel: \"您的推荐地址是\",\n          availableReward: \"有奖\",\n          totalAvailavelReward: \"总奖金\",\n          withdrawAll: \"提奖金\",\n          noReferral: \"找不到推荐人\",\n          copyButton: \"复制\",\n          copyMessage: \"推荐人已复制到剪贴板\"\n        },\n        stake_detail: {\n          previewText: \"存入令牌\",\n          amountStaked: \"存入令牌个数\",\n          periodElasped: \"过去的时期\",\n          penalty: \"提款罚款\",\n          gain: \"收益\",\n          withdrawed: \"已退回\",\n          creationTime: \"建立日期\",\n          availableRewards: \"奖金可供收集\",\n          withdrawReward: \"提款\",\n          withdraw: \"撤智能合约\"\n        },\n        withdrawBox: {\n          withdrawLabel: \"如果您想关掉智能合约，请单击下面的按钮\",\n          tokenSuccesWithdrawMsg: \"提币成功\",\n          tokenFailedWithdrawMsg: \"无法提取令牌\",\n        },\n        help: {\n          p1: \"智能合约与Ether的管理方式不同。实际上，尽管通常在向智能合约发送ETH时，它能够独立了解它们的来源，但对于ERC20而言并非如此。\",\n          p2: \"因此，在与使用ERC20令牌的智能合约进行交互之前，有必要进行某种“授权”。在实践中，授权智能合约使用指定数量的用户代币.\",\n          p3: \"这使您可以安全地与ERC20令牌进行交易。\",\n          linkText: \"详细内容\",\n          link: \"https://tokenallowance.io/it/index.html\"\n        },\n        crowdsale: {\n          title: \"销售面板\",\n          liquidity: \"总流动资金\", \n          currentRate: \"当前汇率\",\n          amountBITN: \"BITN 金额\",\n          amountETH: \"ETH 推买\",\n          buyButton: \"购买\",\n          snackbarSuccess: \"购买 BITN 成功\",\n          snackbarFailure: \"购买时出错\",\n          liquidityLimitReached: \"达到流动性限额\"\n        },\n        approvementPanel: {\n          title: \"您已确认智能合约\",\n          approvementStatus: \"您已经具有管理权限\",\n          editExternalButton: \"输入数量\",\n          textLabel: \"确认数量\",\n          editInternalButton: \"通过数量批准\",\n          closeButton: \"退回主页\"\n        },\n        HomePage: {\n          title: \"欢迎\",\n          subtitle: \"马上开启 BITN 利息存款\",\n          tokenBalance: \"钱包里可用令牌\",\n          stakeToken: \"存款令牌!!\",\n          goStaking: \"链接利息存款下一页\",\n          needToken: \"您需要 BITN 令牌代币?\",\n          goCrowdsale: \"购买\"\n        }\n      }\n    },\n\n  },\n  fallbackLng: \"en\",\n  debug: true,\n\n  // have a common namespace used around the full app\n  ns: [\"translations\"],\n  defaultNS: \"translations\",\n\n  keySeparator: \".\", // we use content as keys\n\n  interpolation: {\n    escapeValue: false, // not needed for react!!\n    formatSeparator: \",\"\n  },\n\n  react: {\n    wait: true\n  }\n});\n\nexport default i18n;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { SnackbarProvider } from 'notistack';\nimport { I18nextProvider } from \"react-i18next\";\nimport i18n from \"./i18n\";\n\nReactDOM.render(\n    <I18nextProvider i18n={i18n}>\n        <SnackbarProvider maxSnack={3}>\n            <App \n                i18n={i18n}\n            />\n        </SnackbarProvider>\n    </I18nextProvider>\n\n    , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 931;"],"sourceRoot":""}